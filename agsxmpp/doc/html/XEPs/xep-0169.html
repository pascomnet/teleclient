<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0169: Twas The Night Before Christmas (Jabber Version)</title><link rel="stylesheet" type="text/css" href="/xmpp.css" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><meta name="DC.Title" content="Twas The Night Before Christmas (Jabber Version)" /><meta name="DC.Creator" content="Peter Saint-Andre" /><meta name="DC.Description" content="The classic Christmas poem annotated with Jabber/XMPP protocols." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2005-12-19" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0169" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF)." /></head><body><h1>XEP-0169: Twas The Night Before Christmas (Jabber Version)</h1><p>The classic Christmas poem annotated with Jabber/XMPP protocols.</p><hr /><p style="color:green">NOTICE: This document is Humorous. It MAY provide amusement but SHOULD NOT be taken seriously.</p><hr /><h2>Document Information</h2><p class="indent">
            Series: <a href="http://www.xmpp.org/extensions/">XEP</a><br />
            Number: 0169<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://www.xmpp.org/extensions/xep-0001.html#states-Active">Active</a><br />
            Type:
            <a href="http://www.xmpp.org/extensions/xep-0001.html#types-Humorous">Humorous</a><br />
            Version: 1.0<br />
            Last Updated: 2005-12-19<br />
                Approving Body: <a href="http://www.xmpp.org/council/">XMPP Council</a><br />Dependencies: XMPP IM, XEP-0045, XEP-0060, XEP-0080, XEP-0090, XEP-0107, XEP-0108, XEP-0112, XEP-0163<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: N/A<br />
              Wiki Page: &lt;<a href="http://wiki.jabber.org/index.php/Twas The Night Before Christmas (Jabber Version) (XEP-0169)">http://wiki.jabber.org/index.php/Twas The Night Before Christmas (Jabber Version) (XEP-0169)</a>&gt;
            </p><hr /><h2>Author Information</h2><div class="indent"><h3>Peter Saint-Andre</h3><p class="indent">
        JabberID: 
        <a href="xmpp:stpeter@jabber.org">stpeter@jabber.org</a><br />
        URI: 
        <a href="https://stpeter.im/">https://stpeter.im/</a><br /></p></div><hr /><h2>Legal Notices</h2><div class="indent"><h3>Copyright</h3>This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF).<h3>Permissions</h3>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h3>Disclaimer of Warranty</h3><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. In no event shall the XMPP Standards Foundation or the authors of this Specification be liable for any claim, damages, or other liability, whether in an action of contract, tort, or otherwise, arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification. ##</span><h3>Limitation of Liability</h3>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising out of the use or inability to use the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h3>IPR Conformance</h3>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which may be found at &lt;<a href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt; or obtained by writing to XSF, P.O. Box 1641, Denver, CO 80201 USA).</div><hr /><h2>Discussion Venue</h2><p class="indent">The preferred venue for discussion of this document is the Standards discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">http://mail.jabber.org/mailman/listinfo/standards</a>&gt;.</p><p class="indent">Errata may be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#poem">Poem</a><br />2.  <a href="#refs">References</a><br />3.  <a href="#arch">Architectural Assumptions</a><br />4.  <a href="#i18n">Internationalization Considerations</a><br />5.  <a href="#security">Security Considerations</a><br />6.  <a href="#iana">IANA Considerations</a><br />7.  <a href="#registrar">XMPP Registrar Considerations</a><br /><a href="#notes">Notes</a><br /><a href="#revs">Revision History</a></p></div><hr /><h2>1.
       <a name="poem" id="poem">Poem</a></h2>

<p class="" style="">'Twas the night before Christmas,</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;iq type='get'
    from='narrator@twas-the-night.lit/home'
    to='twas-the-night.lit'
    id='time1'&gt;
  &lt;query xmlns='jabber:iq:time'/&gt;
&lt;/iq&gt;

&lt;iq type='result'
    from='twas-the-night.lit'
    to='narrator@twas-the-night.lit/home'
    id='time1'&gt;
  &lt;query xmlns='jabber:iq:time'&gt;
    &lt;utc&gt;18071224T22:58:35&lt;/utc&gt;
    &lt;tz&gt;EST&lt;/tz&gt;
  &lt;/query&gt;
&lt;/iq&gt;
  </pre></div>

<p class="" style="">When all through the house,</p>
<p class="" style="">Not a creature was stirring, not even a mouse:</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;presence from='mouse@twas-the-night.lit/home'&gt;
  &lt;show&gt;xa&lt;/show&gt;
  &lt;status&gt;zzz&lt;/status&gt;
&lt;/presence&gt;
  </pre></div>

<p class="" style="">The stockings were hung by the chimney with care,</p>
<p class="" style="">In hopes that St. Nicholas soon would be there;</p>
<p class="" style="">The children were nestled all snug in their beds,</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='child@twas-the-night.lit' to='narrator@twas-the-night.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='http://jabber.org/protocol/physloc'&gt;
      &lt;item&gt;
        &lt;physloc xmlns='http://jabber.org/protocol/physloc' xml:lang='en'&gt;
          &lt;room&gt;children's bedroom&lt;/room&gt;
        &lt;/physloc&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>

<p class="" style="">While visions of sugar-plums danced in their heads.</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='child@twas-the-night.lit' to='narrator@twas-the-night.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='http://jabber.org/protocol/activity'&gt;
      &lt;item&gt;
        &lt;activity xmlns='http://jabber.org/protocol/activity'&gt;
          &lt;inactive&gt;
            &lt;sleeping/&gt;
          &lt;/inactive&gt;
          &lt;text xml:lang='en'&gt;dreaming of sugar-plums&lt;/text&gt;
        &lt;/activity&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>

<p class="" style="">And Mama in her 'kerchief, and I in my cap,</p>
<p class="" style="">Had just settled down for a long winter's nap.</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='mama@twas-the-night.lit' to='narrator@twas-the-night.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='http://jabber.org/protocol/physloc'&gt;
      &lt;item&gt;
        &lt;physloc xmlns='http://jabber.org/protocol/physloc' xml:lang='en'&gt;
          &lt;room&gt;master bedroom&lt;/room&gt;
        &lt;/physloc&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>

<p class="" style="">When out on the lawn there arose such a clatter,</p>
<p class="" style="">I sprang from the bed to see what was the matter.</p>
<p class="" style="">Away to the window I flew like a flash,</p>
<p class="" style="">Tore open the shutters, and threw up the sash.</p>
<p class="" style="">The moon on the breast of the new-fallen snow</p>
<p class="" style="">Gave the lustre of mid-day to objects below,</p>
<p class="" style="">When, what to my wondering eyes should appear,</p>
<p class="" style="">But a miniature sleigh, and eight tiny rein-deer,</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;iq type='set' 
    from='sleigh@northpole.lit/sleigh' 
    to='info.northpole.lit' 
    id='geo87361'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='sleigh/geoloc'&gt;
      &lt;item id='87361'&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;50&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
  </pre></div>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='info.northpole.lit' to='POLECOM@northpole.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='sleigh/geoloc'&gt;
      &lt;item id='87361'&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;50&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>

<p class="" style="">With a little old driver, so lively and quick,</p>
<p class="" style="">I knew in a moment it must be St. Nick.</p>
<p class="" style="">More rapid than eagles his coursers they came,</p>
<p class="" style="">And he whistled, and shouted, and called them by name;</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;Now, Dasher!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;Now, Dancer!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;Now, Prancer and Vixen!&lt;/body&gt;
&lt;/message&gt; 

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;On, Comet!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;On, Cupid!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;On, Donder and Blitzen!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;To the top of the porch!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;To the top of the wall!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;Now dash away!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;Dash away!&lt;/body&gt;
&lt;/message&gt;

&lt;message from='reindeer@chat.northpole.lit/santa' to='reindeer@chat.northpole.lit' type='groupchat'&gt;
  &lt;body&gt;Dash away all!&lt;/body&gt;
&lt;/message&gt;
  </pre></div>

<p class="" style="">As dry leaves that before the wild hurricane fly,</p>
<p class="" style="">When they meet with an obstacle, mount to the sky,</p>
<p class="" style="">So up to the house-top the coursers they flew,</p>
<p class="" style="">With the sleigh full of toys, and St. Nicholas too.</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;iq type='set' 
    from='sleigh@northpole.lit/sleigh' 
    to='info.northpole.lit' 
    id='geo87361'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='sleigh/geoloc'&gt;
      &lt;item&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;60&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
  </pre></div>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='info.northpole.lit' to='POLECOM@northpole.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='sleigh/geoloc'&gt;
      &lt;item&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;60&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>


<p class="" style="">And then, in a twinkling, I heard on the roof</p>
<p class="" style="">The prancing and pawing of each little hoof.</p>
<p class="" style="">As I drew in my hand, and was turning around,</p>
<p class="" style="">Down the chimney St. Nicholas came with a bound.</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;iq type='set' 
    from='saintnick@northpole.lit/pda' 
    to='info.northpole.lit' 
    id='geo117362'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='kringle/geoloc'&gt;
      &lt;item&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;52&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
  </pre></div>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='info.northpole.lit' to='POLECOM@northpole.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='sleigh/geoloc'&gt;
      &lt;item&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;52&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>


  <p class="caption"></p><div class="indent"><pre>
&lt;presence from='saintnick@northpole.lit/pda' to='house@chat.twas-the-night.lit/santa'/&gt;
  </pre></div>

<p class="" style="">He was dressed all in fur, from his head to his foot,</p>
<p class="" style="">And his clothes were all tarnished with ashes and soot;</p>
<p class="" style="">A bundle of toys he had flung on his back,</p>
<p class="" style="">And he looked like a peddler just opening his pack.</p>
<p class="" style="">His eyes -- how they twinkled! his dimples how merry!</p>
<p class="" style="">His cheeks were like roses, his nose like a cherry!</p>
<p class="" style="">His droll little mouth was drawn up like a bow,</p>
<p class="" style="">And the beard of his chin was as white as the snow;</p>
<p class="" style="">The stump of a pipe he held tight in his teeth,</p>
<p class="" style="">And the smoke it encircled his head like a wreath;</p>
<p class="" style="">He had a broad face and a little round belly,</p>
<p class="" style="">That shook, when he laughed, like a bowlful of jelly.</p>
<p class="" style="">He was chubby and plump, a right jolly old elf,</p>
<p class="" style="">And I laughed when I saw him in spite of myself;</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='narrator@twas-the-night.lit' to='mama@twas-the-night.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;publish node='narrator/mood'&gt;
      &lt;items&gt;
        &lt;mood xmlns='http://jabber.org/protocol/mood'&gt;
          &lt;nervous/&gt;
        &lt;/mood&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>

<p class="" style="">A wink of his eye and a twist of his head</p>
<p class="" style="">Soon gave me to know I had nothing to dread.</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='narrator@twas-the-night.lit' to='mama@twas-the-night.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;publish node='narrator/mood'&gt;
      &lt;items&gt;
        &lt;mood xmlns='http://jabber.org/protocol/mood'&gt;
          &lt;relieved/&gt;
        &lt;/mood&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>

<p class="" style="">He spoke not a word, but went straight to his work,</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;iq type='set' 
    from='saintnick@northpole.lit/pda' 
    to='info.northpole.lit' 
    id='activity9412'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='kringle/activity'&gt;
      &lt;item&gt;
        &lt;activity xmlns='http://jabber.org/protocol/activity'&gt;
          &lt;working/&gt;
        &lt;/activity&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
  </pre></div>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='info.northpole.lit' to='POLECOM@northpole.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='sleigh/geoloc'&gt;
      &lt;item&gt;
        &lt;activity xmlns='http://jabber.org/protocol/activity'&gt;
          &lt;working/&gt;
        &lt;/activity&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>


<p class="" style="">And filled all the stockings; then turned with a jerk,</p>
<p class="" style="">And laying his finger aside of his nose</p>
<p class="" style="">And giving a nod, up the chimney he rose.</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;iq type='set' 
    from='saintnick@northpole.lit/pda' 
    to='info.northpole.lit' 
    id='geo117363'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='kringle/geoloc'&gt;
      &lt;item id='a1s2d3f4g5h6bjeh936'&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;60&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
  </pre></div>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='info.northpole.lit' to='POLECOM@northpole.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='sleigh/geoloc'&gt;
      &lt;item id='a1s2d3f4g5h6bjeh936'&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;60&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>


<p class="" style="">He sprung to his sleigh, to his team gave a whistle,</p>
<p class="" style="">And away they all flew, like the down of a thistle.</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;iq type='set' 
    from='sleigh@northpole.lit/sleigh' 
    to='info.northpole.lit' 
    id='geo87362'&gt;
  &lt;pubsub xmlns='http://jabber.org/protocol/pubsub'&gt;
    &lt;publish node='sleigh/geoloc'&gt;
      &lt;item id='a1s2d3f4g5h6bjeh936'&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;100&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/publish&gt;
  &lt;/pubsub&gt;
&lt;/iq&gt;
  </pre></div>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='info.northpole.lit' to='POLECOM@northpole.lit'&gt;
  &lt;event xmlns='http://jabber.org/protocol/pubsub#event'&gt;
    &lt;items node='sleigh/geoloc'&gt;
      &lt;item id='a1s2d3f4g5h6bjeh936'&gt;
        &lt;geoloc xmlns='http://jabber.org/protocol/geoloc'&gt;
          &lt;lat&gt;41.70&lt;/lat&gt;
          &lt;lon&gt;-73.92&lt;/lon&gt;
          &lt;alt&gt;100&lt;/alt&gt;
        &lt;/geoloc&gt;
      &lt;/item&gt;
    &lt;/items&gt;
  &lt;/event&gt;
&lt;/message&gt;
  </pre></div>


<p class="" style="">But I heard him exclaim, ere he drove out of sight --</p>

  <p class="caption"></p><div class="indent"><pre>
&lt;message from='house@chat.twas-the-night.lit/santa' to='house@chat.twas-the-night.lit' type='groupchat'&gt;
  &lt;body&gt;Happy Christmas to all, and to all a good night.&lt;/body&gt;
&lt;/message&gt;
  </pre></div>

  <p class="caption"></p><div class="indent"><pre>
&lt;presence from='saintnick@northpole.lit/pda' to='house@chat.twas-the-night.lit/santa' type='unavailable'/&gt;
  </pre></div>

<h2>2.
       <a name="refs" id="refs">References</a></h2>
  <p class="" style="">The foregoing poem, informally known as <span class="ref">'Twas the Night Before Christmas</span> but formally entitled <span class="ref">Account of a Visit from St. Nicholas</span>, was authored by Major Henry Livingston Jr. in 1807 or 1808.  [<a href="#nt-id2251132">1</a>]</p>
  <p class="" style="">This document makes reference to the following Jabber/XMPP protocols:</p>
  <ul class="" style="">
    <li class="" style=""><span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3921">RFC 3921</a></span>  [<a href="#nt-id2261498">2</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0045.html">Multi-User Chat</a></span>  [<a href="#nt-id2261532">3</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0060.html">Publish-Subscribe</a></span>  [<a href="#nt-id2261558">4</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0080.html">User Geolocation</a></span>  [<a href="#nt-id2261589">5</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0090.html">Entity Time</a></span>  [<a href="#nt-id2261651">6</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0107.html">User Mood</a></span>  [<a href="#nt-id2261620">7</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0108.html">User Activity</a></span>  [<a href="#nt-id2261676">8</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0112.html">User Physical Location</a></span>  [<a href="#nt-id2261702">9</a>]</li>
    <li class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0163.html">Personal Eventing via Pubsub</a></span>  [<a href="#nt-id2261728">10</a>]</li>
  </ul>
  <p class="" style="">Note: For the sake of brevity, not all protocol exchanges are shown above. Refer to the appropriate specifications for detailed protocol descriptions.</p>
<h2>3.
       <a name="arch" id="arch">Architectural Assumptions</a></h2>
  <p class="" style="">This document assumes the following architecture:</p>
  <p class="caption"></p><div class="indent"><pre>
                                                   +--- info.northpole.lit (pubsub service)
                                                   |      | 
                                                   |      | (pubsub nodes)
                                                   |      | 
+--------------------+  (s2s)  +---------------+   |      |-- kringle/activity
| twas-the-night.lit | ------- | northpole.lit |---|      |-- kringle/geoloc
+--------------------+         +---------------+   |      |-- sleigh/geoloc
    |             |                |               |
    | (users)     |                | (users)       +--- chat.northpole.lit (MUC service)
    |             |                |                      |
    |-- narrator  |                |-- saintnick          | (occupants)
    |-- mama      |                |-- sleigh             |
    |-- child     |                |-- POLECOM *          |-- dasher
    |-- mouse     |                                       |-- dancer
                  |                                       |-- prancer
         chat.twas-the-night.lit (MUC service)            |-- vixen
                  |                                       |-- cupid
                  | (occupants)                           |-- donder
                  |                                       |-- blitzen
                  |-- santa et al. 
  </pre></div>
  <p class="" style="">In addition, we assume that the twas-the-night.lit server is running a virtual pubsub service for each account it hosts (in accordance with <span class="ref">XEP-0163</span>) and that the users "narrator", "mama", and "child" publish information to personal pubsub nodes related to mood (<span class="ref">XEP-0107</span>), activity (<span class="ref">XEP-0108</span>), and physical location (<span class="ref">XEP-0112</span>).</p>
  <p class="" style="">* The U.S. Military divides its operations geographically among NORTHCOM, SOUTHCOM, EUCOM, and PACOM. Given the scale of operations implemented by Santa's workshop, it comes as no surprise that the command center at the North Pole is known as POLECOM. Naturally POLECOM subscribes to the pubsub feeds for Santa's geolocation and activity, as well as the sleigh's geolocation, just in case a search and rescue mission needs to be initiated.</p>
<h2>4.
       <a name="i18n" id="i18n">Internationalization Considerations</a></h2>
  <p class="" style="">The protagonist of this poem is variously called (in English) St. Nicholas, St. Nick, Santa Claus, Kris Kringle, and bears a striking resemblance to the Sinterklaas of Dutch legend. Use of the name "St. Nicholas" is not meant to disparage other names for this character in English or any other language.</p>
<h2>5.
       <a name="security" id="security">Security Considerations</a></h2>
  <p class="" style="">It is NOT RECOMMENDED for mere mortals to fly in reindeer-powered sleighs, to enter and exit houses through chimneys, or to perform other dangerous acts described herein.</p>
<h2>6.
       <a name="iana" id="iana">IANA Considerations</a></h2>
  <p class="" style="">This document requires no interaction with the <span class="ref" style=""><a href="http://www.iana.org/">Internet Assigned Numbers Authority (IANA)</a></span>  [<a href="#nt-id2261897">11</a>].</p>
<h2>7.
       <a name="registrar" id="registrar">XMPP Registrar Considerations</a></h2>
  <p class="" style="">This document requires no interaction with the <span class="ref" style=""><a href="http://www.xmpp.org/registrar/">XMPP Registrar</a></span>  [<a href="#nt-id2261941">12</a>].</p>
<hr /><h2><a name="notes" id="notes"></a>Notes</h2><div class="indent"><p><a name="nt-id2251132" id="nt-id2251132">1</a>. As noted at &lt;<a href="http://rpo.library.utoronto.ca/poem/1312.html">http://rpo.library.utoronto.ca/poem/1312.html</a>&gt;, "In the year 2000, Don Foster, an English professor at Vassar College in Poughkeepsie, New York, used external and internal evidence to show that Clement Clarke Moore could not have been the author of this poem, but that it was probably the work of Livingston, and that Moore had written another, and almost forgotten, Christmas piece, <span class="ref">Old Santeclaus</span>. Foster's analysis of this deception appears in his <span class="ref">Author Unknown: On the Trail of Anonymous</span> (New York: Henry Holt, 2000): 221-75." See also &lt;<a href="http://rpo.library.utoronto.ca/poet/204.html">http://rpo.library.utoronto.ca/poet/204.html</a>&gt; and &lt;<a href="http://www.henrylivingston.com">http://www.henrylivingston.com/</a>&gt;.</p><p><a name="nt-id2261498" id="nt-id2261498">2</a>. RFC 3921: Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence &lt;<a href="http://tools.ietf.org/html/rfc3921">http://tools.ietf.org/html/rfc3921</a>&gt;.</p><p><a name="nt-id2261532" id="nt-id2261532">3</a>. XEP-0045: Multi-User Chat &lt;<a href="http://www.xmpp.org/extensions/xep-0045.html">http://www.xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-id2261558" id="nt-id2261558">4</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://www.xmpp.org/extensions/xep-0060.html">http://www.xmpp.org/extensions/xep-0060.html</a>&gt;.</p><p><a name="nt-id2261589" id="nt-id2261589">5</a>. XEP-0080: User Geolocation &lt;<a href="http://www.xmpp.org/extensions/xep-0080.html">http://www.xmpp.org/extensions/xep-0080.html</a>&gt;.</p><p><a name="nt-id2261651" id="nt-id2261651">6</a>. XEP-0090: Entity Time &lt;<a href="http://www.xmpp.org/extensions/xep-0090.html">http://www.xmpp.org/extensions/xep-0090.html</a>&gt;.</p><p><a name="nt-id2261620" id="nt-id2261620">7</a>. XEP-0107: User Mood &lt;<a href="http://www.xmpp.org/extensions/xep-0107.html">http://www.xmpp.org/extensions/xep-0107.html</a>&gt;.</p><p><a name="nt-id2261676" id="nt-id2261676">8</a>. XEP-0108: User Activity &lt;<a href="http://www.xmpp.org/extensions/xep-0108.html">http://www.xmpp.org/extensions/xep-0108.html</a>&gt;.</p><p><a name="nt-id2261702" id="nt-id2261702">9</a>. XEP-0112: User Physical Location &lt;<a href="http://www.xmpp.org/extensions/xep-0112.html">http://www.xmpp.org/extensions/xep-0112.html</a>&gt;.</p><p><a name="nt-id2261728" id="nt-id2261728">10</a>. XEP-0163: Personal Eventing via Pubsub &lt;<a href="http://www.xmpp.org/extensions/xep-0163.html">http://www.xmpp.org/extensions/xep-0163.html</a>&gt;.</p><p><a name="nt-id2261897" id="nt-id2261897">11</a>. The Internet Assigned Numbers Authority (IANA) is the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. For further information, see &lt;<a href="http://www.iana.org/">http://www.iana.org/</a>&gt;.</p><p><a name="nt-id2261941" id="nt-id2261941">12</a>. The XMPP Registrar maintains a list of reserved protocol namespaces as well as registries of parameters used in the context of XMPP extension protocols approved by the XMPP Standards Foundation. For further information, see &lt;<a href="http://www.xmpp.org/registrar/">http://www.xmpp.org/registrar/</a>&gt;.</p></div><hr /><h2><a name="revs" id="revs"></a>Revision History</h2><div class="indent"><h4>Version 1.0 (2005-12-19)</h4><div class="indent"><p class="" style="">Happy Holidays!</p> (psa)
    </div></div><hr /><p>END</p></body></html>
