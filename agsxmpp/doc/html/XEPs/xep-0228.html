<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0228: Requirements for Shared Editing</title><link rel="stylesheet" type="text/css" href="/xmpp.css" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><meta name="DC.Title" content="Requirements for Shared Editing" /><meta name="DC.Creator" content="Peter Saint-Andre" /><meta name="DC.Description" content="This document defines requirements for the design of XMPP-based shared editing protocols." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2007-08-22" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0228" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF)." /></head><body><h1>XEP-0228: Requirements for Shared Editing</h1><p>This document defines requirements for the design of XMPP-based shared editing protocols.</p><hr /><p style="color:red">WARNING: This Standards-Track document is Experimental. Publication as an XMPP Extension Protocol does not imply approval of this proposal by the XMPP Standards Foundation. Implementation of the protocol described herein is encouraged in exploratory implementations, but production systems should not deploy implementations of this protocol until it advances to a status of Draft.</p><hr /><h2>Document Information</h2><p class="indent">
            Series: <a href="http://www.xmpp.org/extensions/">XEP</a><br />
            Number: 0228<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://www.xmpp.org/extensions/xep-0001.html#states-Experimental">Experimental</a><br />
            Type:
            <a href="http://www.xmpp.org/extensions/xep-0001.html#types-Standards Track">Standards Track</a><br />
            Version: 0.1<br />
            Last Updated: 2007-08-22<br />
                Approving Body: <a href="http://www.xmpp.org/council/">XMPP Council</a><br />Dependencies: XMPP Core<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: N/A<br />
              Wiki Page: &lt;<a href="http://wiki.jabber.org/index.php/Requirements for Shared Editing (XEP-0228)">http://wiki.jabber.org/index.php/Requirements for Shared Editing (XEP-0228)</a>&gt;
            </p><hr /><h2>Author Information</h2><div class="indent"><h3>Peter Saint-Andre</h3><p class="indent">
        JabberID: 
        <a href="xmpp:stpeter@jabber.org">stpeter@jabber.org</a><br />
        URI: 
        <a href="https://stpeter.im/">https://stpeter.im/</a><br /></p></div><hr /><h2>Legal Notices</h2><div class="indent"><h3>Copyright</h3>This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF).<h3>Permissions</h3>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h3>Disclaimer of Warranty</h3><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. In no event shall the XMPP Standards Foundation or the authors of this Specification be liable for any claim, damages, or other liability, whether in an action of contract, tort, or otherwise, arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification. ##</span><h3>Limitation of Liability</h3>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising out of the use or inability to use the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h3>IPR Conformance</h3>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which may be found at &lt;<a href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt; or obtained by writing to XSF, P.O. Box 1641, Denver, CO 80201 USA).</div><hr /><h2>Discussion Venue</h2><p class="indent">The preferred venue for discussion of this document is the Standards discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">http://mail.jabber.org/mailman/listinfo/standards</a>&gt;.</p><p class="indent">Errata may be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><h2>Relation to XMPP</h2><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP IM (RFC 3921) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><h2>Conformance Terms</h2><p class="indent">The following keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#intro">Introduction</a><br />2.  <a href="#reqs">Requirements</a><br />   
      2.1.  <a href="#general">General</a><br />   
      2.2.  <a href="#transport">Transport</a><br />   
      2.3.  <a href="#editing">Editing</a><br />   
      2.4.  <a href="#formats">Data Formats</a><br />   
      2.5.  <a href="#sessions">Sessions</a><br />   
      2.6.  <a href="#states">States</a><br />   
      2.7.  <a href="#disco">Discovery</a><br />3.  <a href="#iana">IANA Considerations</a><br />4.  <a href="#registrar">XMPP Registrar Considerations</a><br />5.  <a href="#ack">Acknowledgements</a><br /><a href="#notes">Notes</a><br /><a href="#revs">Revision History</a></p></div><hr /><h2>1.
       <a name="intro" id="intro">Introduction</a></h2>
  <p class="" style="">Shared editing applications such as whiteboarding have been developed usign XMPP, but there is no general editing and synchronization protocol that can be used by such applications. This document attempts to define the requirements for such a protocol so that work can proceed on protocol development.</p>
<h2>2.
       <a name="reqs" id="reqs">Requirements</a></h2>
  <div class="indent"><h3>2.1 <a name="general" id="general">General</a></h3>
    <ol start="1" class="" style="">
      <li class="" style=""><p class="" style="">The underlying protocol shall be designed for synchronization of XML document instances between entities that communicate via XMPP.</p></li>
      <li class="" style=""><p class="" style="">All parties to a shared XML editing session must have the same representation of the XML document after all synchronization messages have been processed.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to use the protocol for multiple application types; examples include but are not limited to whiteboarding using <span class="ref" style=""><a href="http://www.w3.org/TR/SVG11/">Scalable Vector Graphics (SVG)</a></span>  [<a href="#nt-id2252635">1</a>], editing of <span class="ref" style=""><a href="http://www.w3.org/TR/xhtml1">XHTML 1.0</a></span>  [<a href="#nt-id2252662">2</a>] documents, and <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0204.html">Collaborative Data Objects</a></span>  [<a href="#nt-id2252686">3</a>].</p></li>
      <li class="" style=""><p class="" style="">There is no requirement to synchronize non-XML data.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to synchronize XML document instances either between two entities or among more than two entities.</p></li>
      <li class="" style=""><p class="" style="">The protocol should not (unduly) limit the number of parties to a shared XML editing session.</p></li>
      <li class="" style=""><p class="" style="">The protocol should be as lightweight as possible in order to minimize bandwidth consumption.</p></li>
      <li class="" style=""><p class="" style="">Certain applications may need to handle particular features of the XML syntax for that application type (e.g., layers in SVG or pages in XHTML); the protocol must not forbid such specialized semantics.</p></li>
    </ol>
  </div>
  <div class="indent"><h3>2.2 <a name="transport" id="transport">Transport</a></h3>
    <ol start="1" class="" style="">
      <li class="" style=""><p class="" style="">It must be possible to use the protocol "directly" between two entities without assistance from intermediaries, either via an XMPP server (<span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3920">XMPP Core</a></span>  [<a href="#nt-id2251342">4</a>]) or in serverless mode (<span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0174.html">Link-Local Messaging</a></span>  [<a href="#nt-id2251506">5</a>]).</p></li>
      <li class="" style=""><p class="" style="">It must be possible to use the protocol through a <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0045.html">Multi-User Chat</a></span>  [<a href="#nt-id2251577">6</a>] room.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to use the protocol with a specialized synchronization component attached to an XMPP server.</p></li>
    </ol>
  </div>
  <div class="indent"><h3>2.3 <a name="editing" id="editing">Editing</a></h3>
    <ol start="1" class="" style="">
      <li class="" style=""><p class="" style="">It must be possible to add new "nodes" (elements and attributes) to the XML document.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to edit existing nodes.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to remove existing nodes.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to move a node from one location to another within the XML document.</p></li>
      <li class="" style=""><p class="" style="">Where possible, all edits should be commutative in order to minimize the need for locking of the XML document.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to send the complete content of a node or only the difference between the last version of the node and the current version.</p></li>
    </ol>
  </div>
  <div class="indent"><h3>2.4 <a name="formats" id="formats">Data Formats</a></h3>
    <ol start="1" class="" style="">
      <li class="" style=""><p class="" style="">It should be possible to re-use the XML document outside of a shared editing session (e.g., for offline editing in a different application, or for archiving).</p></li>
      <li class="" style=""><p class="" style="">It should be possible to specify the version of the protocol.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to refer to outside resources (e.g., images hosted at websites) from within the protocol.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to validate synchronization messages against a defined schema for the application type in real time.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to log all synchronization messages and associated metadata for archiving and logging purposes.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to uniquely identify each node in an XML document, both within the scope of a standalone shared XML editing session and if the edited object is shared with other appliclations or embedded in other objects.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to maintain the ordering of XML elements in the document.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to specify the parent of any given node.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to associate an XML document with other XML documents.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to represent human-readable text in a language and character set appropriate for a human user.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to associate relevant metadata with each node in the XML document, which might include time of creation, identity of the creator, time of last modification, and identity of last modifier.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to mix text nodes with other child nodes (namely elements).</p></li>
    </ol>
  </div>
  <div class="indent"><h3>2.5 <a name="sessions" id="sessions">Sessions</a></h3>
    <ol start="1" class="" style="">
      <li class="" style=""><p class="" style="">It must be possible to initiate, update, join, and terminate a shared XML editing session.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to specify the roles of parties to a shared XML editing session.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to re-use the permission from a Multi-User Chat room, Publish-Subscribe node, or other service that has a permissions model.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to declare shared editing of the XML document to be complete (e.g., in preparation for archiving of the XML document or editing by another application).</p></li>
      <li class="" style=""><p class="" style="">It should be possible to declare shared editing of part of the XML document to be complete.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to reject out-of-order synchronization messages.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to specify that all parties shall move their viewing context to a particular location in the XML data object.</p></li>
    </ol>
  </div>
  <div class="indent"><h3>2.6 <a name="states" id="states">States</a></h3>
    <ol start="1" class="" style="">
      <li class="" style=""><p class="" style="">It should be possible to retrieve the current state of the XML document from a party to the shared editing session.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to retrieve the history of edits to the XML document from a party to the shared editing session.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to retrieve all the changes to the XML document since a specific sequence number.</p></li>
    </ol>
  </div>
  <div class="indent"><h3>2.7 <a name="disco" id="disco">Discovery</a></h3>
    <ol start="1" class="" style="">
      <li class="" style=""><p class="" style="">It must be possible to discover whether another entity can engage in a shared XML editing session.</p></li>
      <li class="" style=""><p class="" style="">It must be possible to discover which application types another entity can handle.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to query an entity for the shared XML editing sessions to which it is a party.</p></li>
      <li class="" style=""><p class="" style="">It should be possible to query an entity for the XML documents it owns or knows about (which may be the result of a past editing session).</p></li>
    </ol>
  </div>
<h2>3.
       <a name="iana" id="iana">IANA Considerations</a></h2>
  <p class="" style="">This document requires no action by the <span class="ref" style=""><a href="http://www.iana.org/">Internet Assigned Numbers Authority (IANA)</a></span>  [<a href="#nt-id2261453">7</a>].</p>
<h2>4.
       <a name="registrar" id="registrar">XMPP Registrar Considerations</a></h2>
  <p class="" style="">This document requires no action by the <span class="ref" style=""><a href="http://www.xmpp.org/registrar/">XMPP Registrar</a></span>  [<a href="#nt-id2261496">8</a>].</p>
<h2>5.
       <a name="ack" id="ack">Acknowledgements</a></h2>
  <p class="" style="">For their previous work on XMPP-based shared editing technologies, the author wishes to thank Mats Bengtsson, Michael Bishop, Dave Bryson, Boyd Fletcher, Joonas Govenius, Marshall Huss, Huib-Jan Imbens, Jasen Jacobsen, Michael Krutsch, Keith Lirette, Ian Paterson, Chad Smith, and Dan Winkowski.</p>
<hr /><h2><a name="notes" id="notes"></a>Notes</h2><div class="indent"><p><a name="nt-id2252635" id="nt-id2252635">1</a>. Scalable Vector Graphics (SVG) 1.1 Specification
&lt;<a href="http://www.w3.org/TR/SVG11/">http://www.w3.org/TR/SVG11/</a>&gt;.</p><p><a name="nt-id2252662" id="nt-id2252662">2</a>. XHTML 1.0 &lt;<a href="http://www.w3.org/TR/xhtml1">http://www.w3.org/TR/xhtml1</a>&gt;.</p><p><a name="nt-id2252686" id="nt-id2252686">3</a>. XEP-0204: Collaborative Data Objects &lt;<a href="http://www.xmpp.org/extensions/xep-0204.html">http://www.xmpp.org/extensions/xep-0204.html</a>&gt;.</p><p><a name="nt-id2251342" id="nt-id2251342">4</a>. RFC 3920: Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://tools.ietf.org/html/rfc3920">http://tools.ietf.org/html/rfc3920</a>&gt;.</p><p><a name="nt-id2251506" id="nt-id2251506">5</a>. XEP-0174: Link-Local Messaging &lt;<a href="http://www.xmpp.org/extensions/xep-0174.html">http://www.xmpp.org/extensions/xep-0174.html</a>&gt;.</p><p><a name="nt-id2251577" id="nt-id2251577">6</a>. XEP-0045: Multi-User Chat &lt;<a href="http://www.xmpp.org/extensions/xep-0045.html">http://www.xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-id2261453" id="nt-id2261453">7</a>. The Internet Assigned Numbers Authority (IANA) is the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. For further information, see &lt;<a href="http://www.iana.org/">http://www.iana.org/</a>&gt;.</p><p><a name="nt-id2261496" id="nt-id2261496">8</a>. The XMPP Registrar maintains a list of reserved protocol namespaces as well as registries of parameters used in the context of XMPP extension protocols approved by the XMPP Standards Foundation. For further information, see &lt;<a href="http://www.xmpp.org/registrar/">http://www.xmpp.org/registrar/</a>&gt;.</p></div><hr /><h2><a name="revs" id="revs"></a>Revision History</h2><div class="indent"><h4>Version 0.1 (2007-08-22)</h4><div class="indent"><p class="" style="">First draft.</p> (psa)
    </div></div><hr /><p>END</p></body></html>
