<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0038: Icon Styles</title><link rel="stylesheet" type="text/css" href="/xmpp.css" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><meta name="DC.Title" content="Icon Styles" /><meta name="DC.Creator" content="Adam Theo" /><meta name="DC.Description" content="A protocol for specifying exchangeable styles of emoticons and genicons within Jabber IM clients." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2003-06-02" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0038" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF)." /></head><body><h1>XEP-0038: Icon Styles</h1><p>A protocol for specifying exchangeable styles of emoticons and genicons within Jabber IM clients.</p><hr /><p style="color:red">WARNING: Consideration of this document has been Deferred by the XMPP Standards Foundation. Implementation of the protocol described herein is not recommended.</p><hr /><h2>Document Information</h2><p class="indent">
            Series: <a href="http://www.xmpp.org/extensions/">XEP</a><br />
            Number: 0038<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://www.xmpp.org/extensions/xep-0001.html#states-Deferred">Deferred</a><br />
            Type:
            <a href="http://www.xmpp.org/extensions/xep-0001.html#types-Standards Track">Standards Track</a><br />
            Version: 0.5<br />
            Last Updated: 2003-06-02<br />
                Approving Body: <a href="http://www.xmpp.org/council/">XMPP Council</a><br />
                Dependencies: None<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: None<br />
        Schema: &lt;<a href=""></a>&gt;<br />
              Wiki Page: &lt;<a href="http://wiki.jabber.org/index.php/Icon Styles (XEP-0038)">http://wiki.jabber.org/index.php/Icon Styles (XEP-0038)</a>&gt;
            </p><hr /><h2>Author Information</h2><div class="indent"><h3>Adam Theo</h3><p class="indent">
        Email:
        <a href="mailto:theo@theoretic.com">theo@theoretic.com</a><br />
        JabberID: 
        <a href="xmpp:theo@theoretic.com">theo@theoretic.com</a><br /></p></div><hr /><h2>Legal Notices</h2><div class="indent"><h3>Copyright</h3>This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF).<h3>Permissions</h3>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h3>Disclaimer of Warranty</h3><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. In no event shall the XMPP Standards Foundation or the authors of this Specification be liable for any claim, damages, or other liability, whether in an action of contract, tort, or otherwise, arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification. ##</span><h3>Limitation of Liability</h3>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising out of the use or inability to use the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h3>IPR Conformance</h3>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which may be found at &lt;<a href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt; or obtained by writing to XSF, P.O. Box 1641, Denver, CO 80201 USA).</div><hr /><h2>Discussion Venue</h2><p class="indent">The preferred venue for discussion of this document is the Standards discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">http://mail.jabber.org/mailman/listinfo/standards</a>&gt;.</p><p class="indent">Errata may be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><h2>Relation to XMPP</h2><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP IM (RFC 3921) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><h2>Conformance Terms</h2><p class="indent">The following keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#sect-id2252852">Introduction</a><br />2.  <a href="#sect-id2252664">Requirements</a><br />3.  <a href="#sect-id2251343">Discovery</a><br />4.  <a href="#sect-id2251370">Specification</a><br />   
      4.1.  <a href="#sect-id2251044">Definition File</a><br />   
      4.2.  <a href="#sect-id2251065">Meta Elements</a><br />   
      4.3.  <a href="#sect-id2251179">Text Strings</a><br />      
      4.3.1.  <a href="#sect-id2251444">Internationalization</a><br />      
      4.3.2.  <a href="#sect-id2251474">Whitespace</a><br />      
      4.3.3.  <a href="#sect-id2251501">Case Sensitivity</a><br />   
      4.4.  <a href="#sect-id2251525">Objects</a><br />   
      4.5.  <a href="#sect-id2251588">X Tags</a><br />   
      4.6.  <a href="#sect-id2261359">Hierarchy</a><br />   
      4.7.  <a href="#sect-id2261410">Packaging</a><br />5.  <a href="#sect-id2261456">Implementation Notes</a><br />   
      5.1.  <a href="#sect-id2261475">Procedure</a><br />   
      5.2.  <a href="#sect-id2261568">Text Strings</a><br />   
      5.3.  <a href="#sect-id2261657">Objects</a><br />   
      5.4.  <a href="#sect-id2261810">Combining Styles</a><br />   
      5.5.  <a href="#sect-id2261834">Core Icons</a><br />6.  <a href="#sect-id2262128">Security Considerations</a><br />7.  <a href="#sect-id2262145">IANA Considerations</a><br />8.  <a href="#sect-id2262225">XMPP Registrar Considerations</a><br />9.  <a href="#sect-id2262261">Formal Definition</a><br />   
      9.1.  <a href="#sect-id2262267">Schema</a><br />   
      9.2.  <a href="#sect-id2262332">icondef.xml file example</a><br />10.  <a href="#sect-id2262278">Future Considerations</a><br /><a href="#notes">Notes</a><br /><a href="#revs">Revision History</a></p></div><hr /><h2>1.
       <a name="sect-id2252852" id="sect-id2252852">Introduction</a></h2>
  <p class="" style="">This proposal standardizes the use of graphical emoticons and "genicons" in Jabber IM clients to prevent confusion and competing conventions that will soon arise, enabling client developers to spend their energy on more important parts of their projects.</p>
  <p class="" style=""><a href="http://www.wikipedia.com/wiki/Emoticon">Emoticons</a> are the text string 'smiley' or 'frowny' faces such as <tt>:-)</tt> and <tt>:-(</tt> that people often use in email or instant messaging to represent emotions. Genicons are a term being coined here to mean non-emotive text pictures (often called '<a href="http://www.wikipedia.com/wiki/Ascii+Art">ASCII Art</a>') that serve to replace typing the full word or to simply be cute or creative in the conversation.</p>
  <p class="" style="">Many new Internet users demand graphical emoticon and genicon support in their IM clients. We should satisfy their needs if we ever wish to see them use Jabber instead of another IM system.</p>
  <p class="" style="">While traditionally emoticons and genicons have been typed and displayed as text, the recent trend of using graphics, and sometimes sounds, instead of text to represent these pictures will be assumed for purposes of this proposal. Also, the term "icon" will be used in place of "emoticon" and "genicon" for purposes of convenience.</p>
<h2>2.
       <a name="sect-id2252664" id="sect-id2252664">Requirements</a></h2>
  <p class="" style="">The following issues must be solved for in this specification.</p>
  <ul class="" style="">
    <li class="" style="">Here and Now: The convention should not rely on technologies such as feature negotiation or generic pub/sub which do not exist yet in Jabber in order to work properly. The convention should be a "here and now" solution, relying only on the current Jabber protocol.</li>
    <li class="" style="">Meaningful: The convention for creating the icons must be meaningful to users of clients without icon support, or even users on the other side of transports. Whatever method is used, it should not be cryptic or difficult to understand in text-only mode, in case the user does not have or want the capability to view the icons.</li>
    <li class="" style="">Component Friendly: In order for gateways, bots, and other "semi-intelligent" components to be able to convert or otherwise use the specification (such as to and from the MSN icon style, or use icons in conversations with Artificially Intelligent bots), a specific list of icons must be possible. Since these bots do not have an intelligent human behind them deciding their every action, they cannot deal with unlimited possibilities.</li>
    <li class="" style="">Protect Privacy: Sender-defined external data must not be required to properly display the icons because it can be used by the sender to track the user, circumventing their privacy. When the sender can define their own graphics or sounds to be used for the icons, they can use unique URLs and monitor when these unique URLs are accessed. External data may be allowed as long as it is not required for proper use of the icons, but it would be best to leave external data completely out of the system.</li>
    <li class="" style="">Conserve Bandwidth: The amount of markup used within the messages to define the icons should be kept to a minimum, as well as keeping the media files used for the icons from being transferred over the wire with the messages themselves. These easily consume too much bandwidth, a precious resource to most of the Internet.</li>
    <li class="" style="">Be Passive: The convention should not force transports or recipients to take any action to properly display the icons. Not only does it put extra strain on the components, but it would also unnecessarily break old clients. Transports and recieving clients may have the option of taking some actions, but they should not be forced to.</li>
    <li class="" style="">Internationalization: The convention must be inherently international in order to ease adoption of Jabber throughout the world and prevent later growing pains. The use of English must be kept to a minimum, restricted to "meta information" about the icons themselves, and must dynamically allow for non-English language sets.</li>
  </ul>
  <p class="" style="">Because icons in Jabber should be easy to use, extensible, and customizable, they will be created using style definition files which can be exchanged between users and supporting clients. The specification will not allow external data, in order to protect the privacy of users, and will not rely on file transfers or directory services in order to not break old clients or components.</p>
<h2>3.
       <a name="sect-id2251343" id="sect-id2251343">Discovery</a></h2>
  <p class="" style="">To find out if an entity supports Jabber Icon Styles, look for the feature category of <tt>http://jabber.org/protocol/icon-styles</tt> using <tt>jabber:iq:browse</tt> or <tt>http://jabber.org/protocol/disco</tt>. The same feature category can be used with feature negotiation.</p>
<h2>4.
       <a name="sect-id2251370" id="sect-id2251370">Specification</a></h2>
  <p class="" style="">Because icons in Jabber should be easy to use, extensible, and customizable, they will be created using style definition files which can be exchanged between users and supporting clients. The specification will not require external data, in order to protect the privacy of users, and will not rely on file transfers or directory services in order to not break old clients or components. How these icon styles are exchanged - as well as advertised - is out of the scope of this specification. The text strings representing the icons will be sent like any other text (this document doesn't require extra tags or attributes in the messages being sent).</p>
  <p class="" style="">All icons are created by defining each icon then grouping them together into "Icon Definition Files". These files, along with the object files associated with the icons, are called "icon styles". Icon styles may be traded and shared among users of all supporting clients like skins or themes, similar to WinAmp, XMMS, GNOME, and other customizable applications. This creates a platform-independent system, providing a great degree of customization for the user, and allowing client developers to focus on other features.</p>

  <div class="indent"><h3>4.1 <a name="sect-id2251044" id="sect-id2251044">Definition File</a></h3>
    <p class="" style="">Each icon in a style is defined and grouped together in an XML document, the "Icon Definition File". Each definition file for all styles is named "icondef.xml". There is only one such Icon Definition File per style. The W3C Schema for the Icon Definition File plus an example finished Icon Definition File can be found under Schema, below.</p>
  </div>

  <div class="indent"><h3>4.2 <a name="sect-id2251065" id="sect-id2251065">Meta Elements</a></h3>
    <p class="" style="">The meta elements contain information about the Icon Style itself, rather that the individual icons. They are contained within the <tt>&lt;meta&gt;</tt> element, which is directly under the root element. There is one and only one the <tt>&lt;meta&gt;</tt> element.</p>
    <ul class="" style="">
      <li class="" style="">Name: This is an arbitrary text string (spaces allowed) which is the full name of the Icon Style. Only one name can be included.</li>
      <li class="" style="">Version: This is an arbitrary text string (no spaces allowed) which is the version number of the Icon Style. Any version format is allowed, but the <tt>major.minor</tt> or <tt>major.minor.trivial</tt> formats are recommended. Only one version can be included.</li>
      <li class="" style="">Description: This is the full description of the Icon Style. It summarizes the look and types of the icons, and can be used for keywords in searching. This is optional, but recommended.</li>
      <li class="" style="">Author: This is the full name of the author. Multiple authors are allowed.</li>
      <li class="" style="">Creation: This is the date of the creation of this version of the Icon Style. The date is in the <a href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a> standard format.</li>
      <li class="" style="">Home: This is the full HTTP web address of the Icon Style's homepage. This is optional.</li>
    </ul>
  </div>

  <div class="indent"><h3>4.3 <a name="sect-id2251179" id="sect-id2251179">Text Strings</a></h3>
    <p class="" style="">The <tt>&lt;text/&gt;</tt> element defines what text string(s) are recognized by the client as an icon. There may be multiple <tt>&lt;text/&gt;</tt> elements in an <tt>&lt;icon/&gt;</tt>, such as for different languages or simply for multiple text strings producing the same result (for example: <tt>:-)</tt> and <tt>:)</tt>)</p>

    <div class="indent"><h3>4.3.1 <a name="sect-id2251444" id="sect-id2251444">Internationalization</a></h3>
      <p class="" style="">Each may have an <tt>xml:lang</tt> attribute, as defined in Section 2.12 in the official <a href="http://www.w3.org/TR/REC-xml#sec-lang-tag">XML 1.0 reference document</a>. The <tt>xml:lang</tt> attribute allows for two-letter language codes, dialects, and custom "languages" to define foreign IM protocols, for example.</p>
    </div>

    <div class="indent"><h3>4.3.2 <a name="sect-id2251474" id="sect-id2251474">Whitespace</a></h3>
      <p class="" style="">In order to be more accurate in recognizing text strings intended to be icons from those that are just coincidences in normal conversation, the client should follow the "whitespace rule" of making sure there is some form of whitespace on at least one side of the text string. This is only a guideline; individual clients can implement different rules as needed. A newline and tabs count as whitespace in addition to spaces. This is to make sure that chunks of code and URIs are not accidentally converted into graphical pictures. Also, text strings cannot include newlines or tabs. All characters must be on the same line with only spaces within the string, and extra spaces should not be ignored. This is to make it much easier on text parsers looking for these text strings.</p>
    </div>

    <div class="indent"><h3>4.3.3 <a name="sect-id2251501" id="sect-id2251501">Case Sensitivity</a></h3>
      <p class="" style="">The text strings must be case sensitive. This is a rule that compliant clients must follow. "Cat" cannot be used in place of "cat" or "CAT". All three are separate text strings, and therefore must have separate <tt>&lt;text/&gt;</tt> elements, although they may of course use the same objects.</p>
    </div>
  </div>

  <div class="indent"><h3>4.4 <a name="sect-id2251525" id="sect-id2251525">Objects</a></h3>
    <p class="" style="">The <tt>&lt;object/&gt;</tt> element defines what multimedia objects are inserted into the displayed message, replacing the text string(s) defined in <tt>&lt;text/&gt;</tt>. An object may be a bitmap graphic, vector graphic, audio clip, rich text formatting rules, or any other media that can be stored in a separate file. The <tt>&lt;object/&gt;</tt> element is identical to <a href="http://www.w3.org/TR/2003/WD-xhtml2-20030131/mod-object.html#s_objectmodule">the OBJECT element used in XHTML 2.0</a>, and the specification used there should be used to govern the <tt>&lt;object/&gt;</tt> element here. Note that because the XHTML 2.0 OBJECT specification is quite complex (although very flexible and future-proof), client developers are encouraged to only implement compliant sub-sets of the OBJECT specification for their clients. There may be one or multiple <tt>&lt;object/&gt;</tt> elements in an <tt>&lt;icon/&gt;</tt>, such as for alternative file formats (such as <tt>
 GIF</tt> vs. <tt>PNG</tt>), or multiple objects to use at the same time (such as graphic and sound files).</p>
  </div>

  <div class="indent"><h3>4.5 <a name="sect-id2251588" id="sect-id2251588">X Tags</a></h3>
    <p class="" style="">The <tt>&lt;x/&gt;</tt> element allows any type of extensions to the <tt>icondef.xml</tt> file, such as to specify how the user's nickname can be colored in multi-user chat windows or defining additional data about the style or authors. Each must have an <tt>xmlns</tt> attribute with a namespace that the extension operates under. Multiple <tt>&lt;x/&gt;</tt> elements may be in the <tt>&lt;icon/&gt;</tt> or <tt>&lt;icondef/&gt;</tt> elements. This functionality is optional for clients to support, and clients should ignore all extensions they do not understand.</p>
  </div>

  <div class="indent"><h3>4.6 <a name="sect-id2261359" id="sect-id2261359">Hierarchy</a></h3>
    <p class="" style="">The <tt>icondef.xml</tt> file must all be located in the root directory, which is named after the style and version (example: <tt>./happy_days-1.2</tt> or <tt>./gold_angelic-1.0.0</tt>). There is only one root directory per style. The object files may either be in the root directory as well, or be in sub-directories for categorization and easier maintenance reasons. If sub-directories are used, they must match the URIs used in the <tt>&lt;object/&gt;</tt> element in the <tt>icondef.xml</tt> file.</p>

<p class="caption"><a name="example-1" id="example-1"></a>Example 1. Gold Angelic v1.0.0 Hierarchy Example</p><div class="indent"><pre>
./gold_angelic-1.0.0
./gold_angelic-1.0.0/icondef.xml
./gold_angelic-1.0.0/alert.ogg
./gold_angelic-1.0.0/red-exclamation-mark.svg
./gold_angelic-1.0.0/shocked.svg
./gold_angelic-1.0.0/woman.svg
./gold_angelic-1.0.0/pngs/happy.png
./gold_angelic-1.0.0/pngs/sad.png
./gold_angelic-1.0.0/pngs/man.png
./gold_angelic-1.0.0/pngs/woman.png
./gold_angelic-1.0.0/wavs/boohoo.wav
./gold_angelic-1.0.0/wavs/choir.wav
./gold_angelic-1.0.0/wavs/alert.wav
</pre></div>
  </div>

  <div class="indent"><h3>4.7 <a name="sect-id2261410" id="sect-id2261410">Packaging</a></h3>
    <p class="" style="">The <tt>icondef.xml</tt> file and all object files must be packaged in the <tt>ZIP</tt> format following the above hierarchy (the directory must exist in the package, with all files in it). The package must have the file extension <tt>.jisp</tt> (Jabber Icon Style Package), and the MIME type <tt>application/vnd.jisp</tt> as defined in the official <a href="http://www.iana.org/assignments/media-types/application/vnd.jisp">IANA registration</a>. This allows Jabber clients to automatically install icon styles through web browsers. When the client installs the package, it should probably be kept in the archived format, instead of unzipped. This not only saves disk space, but also makes the packages easier to manage and exchange.</p>
  </div>
<h2>5.
       <a name="sect-id2261456" id="sect-id2261456">Implementation Notes</a></h2>
  <p class="" style="">Icons styles should be easy to create, distribute, and most importantly, use. The packaging and official MIME type helps with the first steps, but it is ultimately up to the client developers to fully support the specification and make sure it is easy for users to manage.</p>

   <div class="indent"><h3>5.1 <a name="sect-id2261475" id="sect-id2261475">Procedure</a></h3>
     <p class="" style="">The procedure for using Jabber icons is simple and straightforward.</p>
     <ol start="" class="" style="">
       <li class="" style="">The user installs and turns on ("activates") an icon style (using their client's GUI, most likely) they have received off the Internet or somewhere else.</li>
       <li class="" style="">The user selects the desired icon they wish to include in their message from their client's GUI (a drop-down list of installed icons, for example).</li>
       <li class="" style="">The client translates the selected icon into its main text string equivelent, which is found in the icon's <tt>&lt;text&gt;</tt> element. If there are multiple <tt>&lt;text&gt;</tt> elements, follow the procedure under "Text Strings", below.</li>
       <li class="" style="">The client sends the message with the text string to the intended recipient.</li>
       <li class="" style="">The recipient client receives the message with the text string.</li>
       <li class="" style="">If the recipient has an icon style activated that defines that text string, it is converted into the appropriate object. If there are multiple objects files for each icon, follow the procedure under "Object Files", below. If there are multiple icon styles installed which define that text string, follow the procedure under "Combining Styles", below. If the recipient does not have such an icon activated, then they simply see the text string without any changes.</li>
     </ol>
   </div>

  <div class="indent"><h3>5.2 <a name="sect-id2261568" id="sect-id2261568">Text Strings</a></h3>
    <p class="" style="">Because icons may have multiple text strings associated with them, clients need to be able to figure out which one to use when a user selects the desired icon from their GUI. This is ultimately completely up to the implementation, but here is a suggestion:</p>
    <ol start="" class="" style="">
      <li class="" style="">First look for any text strings that are the same language as what the user is using (if the user is using english, then look for English text strings, ignoring languages like German or Simplified Chinese). Optionally, if the client is smart enough, it can instead look for text strings in the language that the intended recipient is using (using Browse/Disco or simply keeping track of languages used in an ongoing conversation). The language for text strings is found in the <tt>xml:lang</tt> attribute for <tt>&lt;text/&gt;</tt> elements.</li>
      <li class="" style="">If there are no text strings that match the user's language, then look for one that has no defined language.</li>
      <li class="" style="">If there are multiple options even after the above steps, select the one that comes first in the <tt>&lt;icon/&gt;</tt> element.</li>
      <li class="" style="">If there are no text strings that are in the user's language or no language defined at all, then it is probably best for the client to not even display the icon as a choice at all. But if the client still wants to allow it, then simply select the text string of any language that comes first in the <tt>&lt;icon/&gt;</tt> element.</li>
    </ol>
  </div>

  <div class="indent"><h3>5.3 <a name="sect-id2261657" id="sect-id2261657">Objects</a></h3>
    <p class="" style="">Like multiple text strings, icons can have multiple object data files associated with them, and therefore clients also need to be able to figure out which ones to use when a user selects the desired icon from their GUI. Here is a suggestion of how those files can be chosen among multiple options, although this is completely an implementation issue (as with multiple text strings).</p>
    <ol start="" class="" style="">
      <li class="" style="">First look for any of these objects that are of MIME types the client can understand and use. For example, most clients could only use <tt>image/bmp</tt> and maybe <tt>audio/x-wav</tt>, but some newer clients may be able to support <tt>image/png</tt>, <tt>image/svg+xml</tt> and <tt>audio/x-ogg</tt>.</li>
      <li class="" style="">If there are still multiple object MIME types which the client can understand and use, then the client should rank the MIME types it can support, choosing its favorite.</li>
      <li class="" style="">If there are still multiple objects of the same MIME type, then the client should choose the first one in order in the <tt>&lt;icon/&gt;</tt> element.</li>
      <li class="" style="">If there are no files of any MIME type the client can understand, then it should ignore using any objects or even the entire icon.</li>
    </ol>
    <p class="" style="">The <a href="http://www.w3.org/TR/2003/WD-xhtml2-20030131/mod-object.html#sec_14.1.3.">Rules for processing objects</a> in the XHTML 2.0 OBJECT specification may also be of help in coding the procedure of choosing an object to use, especially when it comes to nested and author-preferred objects.</p>
    <p class="" style="">The client should also take note of the file sizes. The client should set (possibly as a user-defined option) the maximum file size in kilobytes for object files. Anything above this amount implies the file will be too big to properly render, and the icon style developer is probably being abusive.</p>
    <p class="" style="">Also, if you are developing an icon style, please make sure the MIME types specified in your <tt>icondef.xml</tt> file are correct. And also make sure that the files you use are reasonable in any byte, pixel, and timelength size. And although any file format can be supported, try to use <tt>BMP</tt>, <tt>PNG</tt>, <tt>SVG</tt>, <tt>WAV</tt>, <tt>OGG</tt> formats because they are open, free, and becoming increasingly supported in developer tools and programming languages.</p>
  </div>

  <div class="indent"><h3>5.4 <a name="sect-id2261810" id="sect-id2261810">Combining Styles</a></h3>
    <p class="" style="">A client may permit the user to activate multiple icon styles at one time. This would be useful for styles which make use of different text strings, and the user wants them all. The client should force the user to rank the multiple styles for purposes of conflict resolution between icons. The highest ranking style gets preference over lower ranking styles. This ranking doesn't have to be anything more than simply dragging the style names into top-to-bottom rows, with the styles on top being higher ranked than those below.</p>
  </div>

  <div class="indent"><h3>5.5 <a name="sect-id2261834" id="sect-id2261834">Core Icons</a></h3>
    <p class="" style="">Although any text string can be turned into an icon by defining it in an <tt>icondef.xml</tt> file, it is highly reccomended they either follow traditional ASCII Art (smileys and frownys, for example) or full keywords in simple markup such as double-colons. If you want to design icons, always keep in mind that not every Jabber user uses graphics to "translate" this to something visual, as explained in the "Meaningful" requirement, above. Here is a short list of recommended "core" icons that should be in most definitions, as well as possibly be used by transports:</p>
    <ul class="" style="">
      <li class="" style="">:-) and :) - A smiling face.</li>
      <li class="" style="">:-( and :( - A frowing face.</li>
      <li class="" style="">;-) and ;) - A winking smiling face.</li>
      <li class="" style="">:'-( and :'( - A crying face.</li>
      <li class="" style="">&gt;:-( and &gt;:( - An angry face.</li>
      <li class="" style="">:yes: - A thumbs-up or checkmark.</li>
      <li class="" style="">:no: - A thumbs-down or a crossmark.</li>
      <li class="" style="">:wait: - An open hand, palm outstretched.</li>
      <li class="" style="">@-&gt;-- and :rose: - A rose flower.</li>
      <li class="" style="">:telephone: - A telephone.</li>
      <li class="" style="">:email: - An electronic-looking envelope.</li>
      <li class="" style="">:jabber: - Jabber's lightbulb logo.</li>
      <li class="" style="">:cake: - A birthday cake.</li>
      <li class="" style="">:kiss: - A pair of puckered lips.</li>
      <li class="" style="">:heart: and :love: - A heart.</li>
      <li class="" style="">:brokenheart: - A broken heart.</li>
      <li class="" style="">:music: - A musical note or instrument.</li>
      <li class="" style="">:beer: - A beer mug.</li>
      <li class="" style="">:coffee: - A cup of coffee.</li>
      <li class="" style="">:money: - A gold coin.</li>
      <li class="" style="">:moon: - A moon.</li>
      <li class="" style="">:sun: - A sun.</li>
      <li class="" style="">:star: - A star.</li>
    </ul>
  </div>
<h2>6.
       <a name="sect-id2262128" id="sect-id2262128">Security Considerations</a></h2>
  <p class="" style="">There are no security features or concerns related to this proposal.</p>
<h2>7.
       <a name="sect-id2262145" id="sect-id2262145">IANA Considerations</a></h2>
  <p class="" style="">The <span class="ref" style=""><a href="http://www.xmpp.org/xsf/">XMPP Standards Foundation (XSF)</a></span>  [<a href="#nt-id2262184">1</a>] shall register and maintain a MIME type and file extension for icon style packages with the IANA. Ones have already been registered by Sebastiaan Deckers (aka 'CBAS') as <tt>application/vnd.jisp</tt> and <tt>.jisp</tt>, respectively. The registration can be found at <a href="http://www.iana.org/assignments/media-types/application/vnd.jisp">http://www.iana.org/assignments/media-types/application/vnd.jisp</a>. Sebastiaan's registration shall be considered the official MIME type and file extension of this specification.</p>
  <p class="" style="">Also, this specification uses other MIME types that are maintained by IANA for the object and xml files that are included in the icon style packages.</p>
<h2>8.
       <a name="sect-id2262225" id="sect-id2262225">XMPP Registrar Considerations</a></h2>
  <p class="" style="">JANA shall register the namespace <tt>http://jabber.org/protocol/icon-styles</tt> as an official feature category.</p>
  <p class="" style="">Also, JANA may choose to define IM-specific <tt>xml:lang</tt> "language codes" for use within Jabber (in addition to those defined in the XML specification). Such language codes would allow Jabber developers to support icons from MSN, Yahoo, and popular web message programs.</p>
<h2>9.
       <a name="sect-id2262261" id="sect-id2262261">Formal Definition</a></h2>
  <div class="indent"><h3>9.1 <a name="sect-id2262267" id="sect-id2262267">Schema</a></h3>
    <p class="caption"></p><div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
  &lt;xs:element name="icondef"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:complexType&gt;
          &lt;xs:sequence&gt;
            &lt;xs:element name="name" type="xs:string"/&gt;
            &lt;xs:element name="version" type="xs:string"/&gt;
            &lt;xs:element name="description" type="xs:string"/&gt;
            &lt;xs:element name="author" type="xs:string" maxOccurs="unbounded"&gt;
              &lt;xs:complexType&gt;
                &lt;xs:attribute name="jid" type="xs:string" use="optional"/&gt;
              &lt;/xs:complexType&gt;
            &lt;/xs:element&gt;
            &lt;xs:element name="creation" type="xs:date"/&gt;
          &lt;/xs:sequence&gt;
        &lt;/xs:complexType&gt;
        &lt;xs:element name="icon" minOccurs="1" maxOccurs="unbounded"&gt;
          &lt;xs:complexType&gt;
            &lt;xs:sequence&gt;
              &lt;xs:element name="text" type="xs:string" minOccurs="1" maxOccurs="unbounded"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:attribute name="xml:lang" type="xs:language" use="optional"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="object" type="xs:string" minOccurs="1" maxOccurs="unbounded"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:attribute name="mime" type="xs:string" use="required"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
              &lt;xs:element name="x" type="xs:string" minOccurs="0" maxOccurs="unbounded"&gt;
                &lt;xs:complexType&gt;
                  &lt;xs:attribute name="xmlns" type="xs:anyURI" use="required"/&gt;
                &lt;/xs:complexType&gt;
              &lt;/xs:element&gt;
            &lt;/xs:sequence&gt;
          &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
        &lt;xs:element name="x" type="xs:string" minOccurs="0" maxOccurs="unbounded"&gt;
          &lt;xs:complexType&gt;
            &lt;xs:attribute name="xmlns" type="xs:anyURI" use="required"/&gt;
          &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;
    </pre></div>
  </div>

  <div class="indent"><h3>9.2 <a name="sect-id2262332" id="sect-id2262332">icondef.xml file example</a></h3>
    <p class="caption"></p><div class="indent"><pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;icondef&gt;
  &lt;meta&gt;
    &lt;name&gt;Gold Angelic&lt;/name&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;description&gt;Angelic faces and themes with gold highlights.&lt;/description&gt;
    &lt;author jid="theo@theoretic.com"&gt;Adam Theo&lt;/author&gt;
    &lt;author jid="cbas@rhymbox.com"&gt;Sebastiaan Deckers&lt;/author&gt;
    &lt;author jid="cobnet@jabber.org"&gt;Mattias Campe&lt;/author&gt;
    &lt;creation&gt;2002-10-31&lt;/creation&gt;
    &lt;home&gt;http://icon-styles.jabberstudio.org/Gold_Angelic&lt;/home&gt;
  &lt;/meta&gt;
  &lt;icon&gt;
    &lt;text&gt;:-)&lt;/text&gt;
    &lt;text&gt;:)&lt;/text&gt;
    &lt;object mime="image/png"&gt;happy.png&lt;/object&gt;
    &lt;object mime="audio/x-wav"&gt;choir.wav&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text&gt;:-(&lt;/text&gt;
    &lt;text&gt;:(&lt;/text&gt;
    &lt;object mime="image/png"&gt;sad.png&lt;/object&gt;
    &lt;object mime="audio/x-wav"&gt;boohoo.wav&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text&gt;:-O&lt;/text&gt;
    &lt;text&gt;:O&lt;/text&gt;
    &lt;object mime="image/svg+xml"&gt;shocked.svg&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text xml:lang="en"&gt;::man::&lt;/text&gt;
    &lt;text xml:lang="de"&gt;::mann::&lt;/text&gt;
    &lt;text xml:lang="cs"&gt;::muz::&lt;/text&gt;
    &lt;text xml:lang="x-msn"&gt;(z)&lt;/text&gt;
    &lt;object mime="image/png"&gt;man.png&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text xml:lang="en"&gt;::woman::&lt;/text&gt;
    &lt;text xml:lang="x-msn"&gt;(x)&lt;/text&gt;
    &lt;object mime="image/svg+xml"&gt;woman.svg&lt;/object&gt;
    &lt;object mime="image/png"&gt;woman.png&lt;/object&gt;
  &lt;/icon&gt;
  &lt;icon&gt;
    &lt;text xml:lang="en"&gt;::alert::&lt;/text&gt;
    &lt;object mime="image/svg+xml"&gt;red-exclamation-mark.svg&lt;/object&gt;
    &lt;object mime="audio/x-ogg"&gt;alert.ogg&lt;/object&gt;
    &lt;object mime="audio/x-wav"&gt;alert.wav&lt;/object&gt;
  &lt;/icon&gt;
&lt;/icondef&gt;
    </pre></div>
  </div>
<h2>10.
       <a name="sect-id2262278" id="sect-id2262278">Future Considerations</a></h2>
  <ol start="" class="" style="">
    <li class="" style="">This proposes a standard, simple, plaintext-based icon convention. It does not attempt to create a powerful XML-based convention wherein XML tags are used to extensibly represent the icons. However, this proposal isn't exclusive, and does not prevent such an XML-based convention from being created at a later date. It may also be possible to build such an extensible XML-based convention on top of this plaintext one.</li>
    <li class="" style="">The Icon Styles that the sender used to create the message may be of use to the recipient. A separate specification can be developed for the transferring of the name and version of the Icon Styles used by the sender. The recipient's client may then be smart enough to automatically use the same icons as the sender intended, possibly even fetching and downloading the icon styles as needed. This would likely require directory services, so has not been included in this proposal.</li>
    <li class="" style="">The functionality of the <tt>icondef.xml</tt> files may be useful for variable text strings. Text strings that may change from session to session, such as the user's nickname in a multi-user chat. A set of variables could be defined that represent these variable datas, therefore allowing them to be manipulated in the same way set text strings are.</li>
    <li class="" style="">This convention may be adopted beyond the scope of Jabber into web browsers, email clients, and Wiki sites. There is great potential for a generalized, exchangeable convention for emoticons and genicons.</li>
    <li class="" style="">A "SVG Transport" may be created to enable clients to send <tt>SVG</tt> icons to it and get back icons in another format of their choice, such as <tt>PNG</tt> or <tt>JPG</tt>. This would speed up the adoption of <tt>SVG</tt> within Jabber greatly.</li>
    <li class="" style="">An online Web- (or even Jabber-) based editor to create icon style packages from the individual components would be a great tool for developers. This would be a great project for <a href="http://www.jabberstudio.org">JabberStudio</a> or even the <a href="http://www.theoretic.com/Ransom">Ransom model</a>.</li>
  </ol>
<hr /><h2><a name="notes" id="notes"></a>Notes</h2><div class="indent"><p><a name="nt-id2262184" id="nt-id2262184">1</a>. The XMPP Standards Foundation (XSF) is an independent, non-profit membership organization that develops open extensions to the IETF's Extensible Messaging and Presence Protocol (XMPP). For further information, see &lt;<a href="http://www.xmpp.org/xsf/">http://www.xmpp.org/xsf/</a>&gt;.</p></div><hr /><h2><a name="revs" id="revs"></a>Revision History</h2><div class="indent"><h4>Version 0.5 (2003-06-02)</h4><div class="indent">Bent to public will on using a common object element and enveloping all meta information into a meta element. (at)
    </div><h4>Version 0.4 (2003-03-05)</h4><div class="indent">Added "format" back in. Refused to simplify to use "object" for everything. Fixed some typos. (at)
    </div><h4>Version 0.3 (2002-11-05)</h4><div class="indent">Simplified, even though it loses some flexibility. Should be the final version. (at)
    </div><h4>Version 0.2 (2002-07-24)</h4><div class="indent">Added feedback, still needs serious Schema work (at)
    </div><h4>Version 0.1 (2002-06-28)</h4><div class="indent">Initial version (at)
    </div></div><hr /><p>END</p></body></html>
