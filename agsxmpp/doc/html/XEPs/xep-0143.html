<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0143: Guidelines for Authors of XMPP Extension Protocols</title><link rel="stylesheet" type="text/css" href="/xmpp.css" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><meta name="DC.Title" content="Guidelines for Authors of XMPP Extension Protocols" /><meta name="DC.Creator" content="Peter Saint-Andre" /><meta name="DC.Description" content="This document provides information intended to assist authors of XMPP Extension Protocols." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2004-12-09" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0143" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF)." /></head><body><h1>XEP-0143: Guidelines for Authors of XMPP Extension Protocols</h1><p>This document provides information intended to assist authors of XMPP Extension Protocols.</p><hr /><p style="color:green">NOTICE: This Procedural document defines a process or activity of the XMPP Standards Foundation (XSF) that has been approved by the XMPP Council and/or the XSF Board of Directors. The XSF is currently following the process or activity defined herein and will do so until this document is deprecated or obsoleted.</p><hr /><h2>Document Information</h2><p class="indent">
            Series: <a href="http://www.xmpp.org/extensions/">XEP</a><br />
            Number: 0143<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://www.xmpp.org/extensions/xep-0001.html#states-Active">Active</a><br />
            Type:
            <a href="http://www.xmpp.org/extensions/xep-0001.html#types-Procedural">Procedural</a><br />
            Version: 1.0<br />
            Last Updated: 2004-12-09<br />
                Approving Body: <a href="http://www.xmpp.org/council/">XMPP Council</a><br />Dependencies: XEP-0001<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: N/A<br />
              Wiki Page: &lt;<a href="http://wiki.jabber.org/index.php/Guidelines for Authors of XMPP Extension Protocols (XEP-0143)">http://wiki.jabber.org/index.php/Guidelines for Authors of XMPP Extension Protocols (XEP-0143)</a>&gt;
            </p><hr /><h2>Author Information</h2><div class="indent"><h3>Peter Saint-Andre</h3><p class="indent">
        JabberID: 
        <a href="xmpp:stpeter@jabber.org">stpeter@jabber.org</a><br />
        URI: 
        <a href="https://stpeter.im/">https://stpeter.im/</a><br /></p></div><hr /><h2>Legal Notices</h2><div class="indent"><h3>Copyright</h3>This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF).<h3>Permissions</h3>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h3>Disclaimer of Warranty</h3><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. In no event shall the XMPP Standards Foundation or the authors of this Specification be liable for any claim, damages, or other liability, whether in an action of contract, tort, or otherwise, arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification. ##</span><h3>Limitation of Liability</h3>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising out of the use or inability to use the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h3>IPR Conformance</h3>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which may be found at &lt;<a href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt; or obtained by writing to XSF, P.O. Box 1641, Denver, CO 80201 USA).</div><hr /><h2>Discussion Venue</h2><p class="indent">The preferred venue for discussion of this document is the Standards discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">http://mail.jabber.org/mailman/listinfo/standards</a>&gt;.</p><p class="indent">Errata may be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#intro">Introduction</a><br />2.  <a href="#prep">Preparation</a><br />3.  <a href="#submit">Submission Process</a><br />4.  <a href="#format">XEP XML Format</a><br />   
      4.1.  <a href="#format-work">Working With XEP Files</a><br />   
      4.2.  <a href="#format-metadata">File Metadata</a><br />   
      4.3.  <a href="#format-contents">File Contents</a><br />5.  <a href="#sections">The Sections of a XEP Document</a><br />   
      5.1.  <a href="#sections-intro">Introduction</a><br />   
      5.2.  <a href="#sections-reqs">Requirements</a><br />   
      5.3.  <a href="#sections-glossary">Glossary</a><br />   
      5.4.  <a href="#sections-usecases">Use Cases</a><br />   
      5.5.  <a href="#sections-errors">Error Codes</a><br />   
      5.6.  <a href="#sections-bizrules">Business Rules</a><br />   
      5.7.  <a href="#sections-impl">Implementation Notes</a><br />   
      5.8.  <a href="#sections-i18n">Internationalization Considerations</a><br />   
      5.9.  <a href="#sections-security">Security Considerations</a><br />   
      5.10.  <a href="#sections-iana">IANA Considerations</a><br />   
      5.11.  <a href="#sections-registrar">XMPP Registrar Considerations</a><br />   
      5.12.  <a href="#sections-schema">XML Schema</a><br />   
      5.13.  <a href="#sections-ack">Acknowledgements</a><br />6.  <a href="#styleguide">XEP Styleguide</a><br />   
      6.1.  <a href="#style-attr">Attributes</a><br />   
      6.2.  <a href="#style-ex">Code Examples</a><br />   
      6.3.  <a href="#style-conf">Conformance Terms</a><br />   
      6.4.  <a href="#style-elem">Elements</a><br />   
      6.5.  <a href="#style-err">Errors</a><br />   
      6.6.  <a href="#style-ns">Namespaces</a><br />   
      6.7.  <a href="#style-quot">Quotes</a><br /><a href="#notes">Notes</a><br /><a href="#revs">Revision History</a></p></div><hr /><h2>1.
       <a name="intro" id="intro">Introduction</a></h2>
  <p class="" style="">The <span class="ref" style=""><a href="http://www.xmpp.org/xsf/">XMPP Standards Foundation (XSF)</a></span>  [<a href="#nt-id2252648">1</a>] receives a significant number of proposals for defining extensions to the core XMPP protocols specified in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3920">XMPP Core</a></span>  [<a href="#nt-id2252686">2</a>]. However, it is not always clear to authors how to best structure a proposal in order for it to be accepted as an XMPP Extension Protocol (XEP) and then advance through the XSF's standards process. Therefore, this document provides guidelines that are intended to help authors write better XMPP Extension Protocol specifications.</p>
  <p class="" style="">These guidelines assume that the reader is familiar with the XEP series of documents and the processes for handling them within the XSF, as defined in <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0001.html">XMPP Extension Protocols</a></span>  [<a href="#nt-id2252756">3</a>].</p>
<h2>2.
       <a name="prep" id="prep">Preparation</a></h2>
  <p class="" style="">The prospective author is strongly encouraged to complete some research before submitting a proposal for consideration as an XMPP Extension Protocol. In particular, the author should do the following:</p>
  <ul class="" style="">
    <li class="" style="">Review the XMPP RFCs and experimental or approved XMPP Extension Protocols to determine if the proposed protocol extension is truly needed in order to fill a gap in existing Jabber/XMPP technologies and protocols.</li>
    <li class="" style="">Review rejected and deferred XMPP Extension Protocol specifications to determine if similar extensions have been proposed in the past but not approved by the <span class="ref" style=""><a href="http://www.xmpp.org/council/">XMPP Council</a></span>  [<a href="#nt-id2251323">4</a>].</li>
    <li class="" style="">Review protocols developed within other standards development organizations, such as the <span class="ref" style=""><a href="http://www.ietf.org/">Internet Engineering Task Force (IETF)</a></span>  [<a href="#nt-id2251498">5</a>] and <span class="ref" style=""><a href="http://www.w3.org/">World Wide Web Consortium (W3C)</a></span>  [<a href="#nt-id2251528">6</a>], to determine if they might be more appropriate than a new XMPP extension.</li>
    <li class="" style="">Review discussions within the <span class="ref" style=""><a href="http://mail.jabber.org/mailman/listinfo/standards/">Standards SIG</a></span>  [<a href="#nt-id2251551">7</a>] to determine if similar functionality has been discussed in the past or is currently under discussion.</li>
  </ul>
  <p class="" style="">After completing this research, the prospective author may conclude that a new protocol extension is needed. If so, the author is strongly advised to do the following:</p>
  <ol start="" class="" style="">
    <li class="" style="">Review XEP-0001 and the <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0134.html">Protocol Design Guidelines</a></span>  [<a href="#nt-id2251369">8</a>].</li>
    <li class="" style="">Understand the <a href="#submit">Submission Process</a>.</li>
    <li class="" style="">Become familiar with the <a href="#format">XEP XML Format</a>.</li>
    <li class="" style="">Then and only then write a proposal that includes all of the appropriate <a href="#sections">Sections of a XEP</a>.</li>
    <li class="" style="">Review the content to ensure that it conforms to the <a href="#styleguide">XEP Styleguide</a>.</li>
  </ol>
<h2>3.
       <a name="submit" id="submit">Submission Process</a></h2>
  <p class="" style="">The process for submitting a proposal for consideration as an XMPP Extension Protocol is straightforward:</p>
  <ol start="" class="" style="">
    <li class="" style="">Contact the <span class="ref" style=""><a href="http://www.xmpp.org/extensions/editor.shtml">XMPP Extensions Editor</a></span>  [<a href="#nt-id2261060">9</a>] so that he knows to expect your submission.</li>
    <li class="" style="">Write your proposal following the guidelines described herein.</li>
    <li class="" style="">Make sure you read, understand, and agree to the <span class="ref" style=""><a href="http://www.xmpp.org/extensions/ipr-policy.shtml">XSF IPR Policy</a></span>  [<a href="#nt-id2261101">10</a>] before you submit your proposal.</li>
    <li class="" style="">Send your XML file (or a URL for the file) to the XMPP Extensions Editor.</li>
  </ol>
<h2>4.
       <a name="format" id="format">XEP XML Format</a></h2>
  <p class="" style="">The XEP XML format is substantially similar to a reduced set of XHTML. This is intentional: it makes authoring XMPP Extension Protocol specifications easier. In fact, if you use the template file with its associated XSLT stylesheet, you should be able to view your proposal in most modern web browsers (see below). The following subsections explain how to get started with XEP authoring and describe the XML format used for XMPP Extension Protocols (see the xep.xsd or xep.dtd file for a formal description).</p>
  <div class="indent"><h3>4.1 <a name="format-work" id="format-work">Working With XEP Files</a></h3>
    <p class="" style="">The best way to start working on your proposal is to retrieve all of the existing XMPP Extension Protocol specifications and associated stylesheets from source control. These files are stored using Subsversion (SVN), in a module labelled 'xmpp' and subdirectory labelled 'extensions' at xmpp.org. Instructions for accessing these files are provided at &lt;<a href="http://www.xmpp.org/xsf/sourcecontrol.shtml">http://www.xmpp.org/xsf/sourcecontrol.shtml</a>&gt;. The document structure is formally defined by both a DTD and an XML schema, but you do not need to understand the formal descriptions in order to author an XMPP Extension Protocol. In addition, a handy template file is included as the 'xep-template.xml' file in the 'extensions' directory, providing a quick starting point for XEP authoring.</p>
    <p class="" style="">To create your proposal, do an SVN checkout of the 'xmpp' module, change directories to the 'trunk/extensions/' directory, copy the template file (e.g., 'cp xep-template.xml xep-foo.xml'), and start editing the file using either a basic text editor or a specialized XML editing application such as XML Spy or XMLmind.</p>
    <p class="" style="">Even if you use a basic text editor, you should be able to view your document in most modern web browsers as an XML file as long as you have xep.xsl and xep.dtd in the 'extensions/' directory. Because of inconsistencies in browser XSLT implementations, certain formatting (e.g., table layouts and the numbering of tables, examples, and footnotes) may not be perfect. Don't panic; it will look fine in the HTML output produced by the XMPP Extensions Editor. If your XML file doesn't render at all (i.e., it's just one big text blob), you are using a bad browser. If you see only the bare outline generated by xep.xsl but none of your text, you have an error in your XML. You can check your XML syntax at xml.com  [<a href="#nt-id2261212">11</a>].</p>
    <p class="" style="">To programatically convert your XML file into HTML, we recommend using Daniel Veillard's <a href="http://xmlsoft.org/XSLT/">xsltproc</a> program, which will give you helpful error messages regarding XML syntax problems. However, the XMPP Extensions Editor will do the final rendering of XML into HTML as well as posting of your HTML file to www.xmpp.org, so you do not need to generate HTML files for submission to the XMPP Extensions Editor (in fact, the XMPP Extensions Editor requires that you submit your proposal in the XEP XML format, not HTML).</p>
    <p class="" style="">Finally, the xep.ent file contains convenient "external entities" that provide shortcuts for including references to XMPP Extension Protocols, RFCs, and other common strings. Unfortunately, most browsers do not correctly process external entities, so you cannot include entities from xep.ent if you need to view your XML source file in a browser. However, the XMPP Extensions Editor reserves the right to convert your markup to external entities, since it makes his life easier. Also, please do not add items to the xep.ent file; instead, ask the XMPP Extensions Editor to add them for you.</p>
  </div>
  <div class="indent"><h3>4.2 <a name="format-metadata" id="format-metadata">File Metadata</a></h3>
    <p class="" style="">This section describes the metadata elements contained in the &lt;header/&gt; element of a XEP file (see below for the file contents).</p>
    <p class="" style="">The XML character data of the &lt;title/&gt; element is the title of your XEP. Choose a descriptive title that is less than five words long. The XMPP Extensions Editor may change this in consultation with the author.</p>
    <p class="" style="">The XML character data of the &lt;abstract/&gt; element SHOULD be one sentence that captures the essence of your proposal (usually beginning "This document defines a protocol that..."). The XMPP Extensions Editor has been known to modify the abstract so that it accurately describes the proposal.</p>
    <p class="" style="">The XML character data of the &lt;legal/&gt; element MUST be as follows:</p>
    <p class="indent" style="">This XMPP Extension Protocol is copyright 1999 - 2007 by the XMPP Standards Foundation (XSF) and is in full conformance with the XSF's Intellectual Property Rights Policy (&lt;http://www.xmpp.org/extensions/ipr-policy.shtml&gt;). This material may be distributed only subject to the terms and conditions set forth in the Creative Commons Attribution License (&lt;http://creativecommons.org/licenses/by/2.5/&gt;).</p>
    <p class="" style="">The XML character data of the &lt;number/&gt; element SHOULD be "xxxx"; this will be changed to the next sequential XEP number by the XMPP Extensions Editor if the XMPP Council accepts the proposal as an XMPP Extensions Protocol.</p>
    <p class="" style="">The XML character data of the &lt;status/&gt; element SHOULD be "ProtoXEP" since all proposals start out as "proto-XEPs"; this will be changed to "Experimental" if the XMPP Council accepts the proposal as an XMPP Extensions Protocol.</p>
    <p class="" style="">The XML character data of the &lt;type/&gt; element SHOULD be either "Standards Track" or "Informational" (there are also Historical, Humorous, and Procedural XEPs, but these are uncommon and usually written by the XMPP Extensions Editor). A Standards Track XEP defines a XMPP extension intended to be used as a common part of Jabber/XMPP technologies. An Informational XEP defines best practices or a usage profile related to XMPP or an XMPP Extension Protocol (e.g., <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0175.html">Best Practices for Use of SASL ANONYMOUS</a></span>  [<a href="#nt-id2261440">12</a>]).</p>
    <p class="" style="">The XML character data of the &lt;approver/&gt; element SHOULD be "Council".</p>
    <p class="" style="">The &lt;dependencies/&gt; element is used to specify RFCs, XMPP Extension Protocols, and other specifications on which your proposal depends in a normative fashion (i.e., specifications that MUST or SHOULD be understood in order to implement your proposed protocol). Each specification MUST be identified by a distinct &lt;spec/&gt; child element (see existing XEP specifications for clues regarding document identifiers, or consult with the XMPP Extensions Editor).</p>
    <p class="" style="">The &lt;supersedes/&gt;, &lt;supersededby/&gt;, &lt;shortname/&gt;, and &lt;schemaloc/&gt; elements are for use by the XMPP Extensions Editor; however, if your document supersedes an existing XMPP Extension Protocol, feel free to include a &lt;spec/&gt; child element specifying the document identifier (e.g., XEP-0093) for the protocol that is being superseded.</p>
    <p class="" style="">Include one &lt;author/&gt; element for each co-author. Note well that the &lt;firstname/&gt;, &lt;surname/&gt;, &lt;email/&gt;, and &lt;jid/&gt; elements are all REQUIRED per XEP-0001.</p>
    <p class="" style="">Include one &lt;revision/&gt; element for each revision of your document. The XML character data of the &lt;version/&gt; element SHOULD be "0.0.1" for your initial submission to the XMPP Extensions Editor, and the &lt;remark/&gt; SHOULD be "Initial version."; for each revision, you will include another &lt;revision/&gt; element (place it before the existing &lt;revision/&gt; elements) and iterate the &lt;version/&gt; element (e.g., "0.2" after "0.1"). The format for the &lt;date/&gt; element is yyyy-mm-dd. Please do not include the characters ' or " in your revision remarks.</p>
  </div>
  <div class="indent"><h3>4.3 <a name="format-contents" id="format-contents">File Contents</a></h3>
    <p class="" style="">Aside from the metadata in the &lt;header/&gt; element (see above), a XEP file is a series of sections, arranged in a hierarchy (&lt;section1/&gt; is a top-level section, within which you can nest &lt;section2/&gt; sections, and so on down to &lt;section4/&gt;). The title of a section is captured in the 'topic' attribute. You should also include an 'anchor' element so that you can link to page fragments from within your document. The allowable elements within a section element probably look familiar from XHTML: &lt;p/&gt; for paragraphs, &lt;ol/&gt; and &lt;ul/&gt; for ordered and unordered lists, and so on.</p>
    <p class="" style="">The &lt;example/&gt; and &lt;code/&gt; elements are used to show protocol snippets; the &lt;example/&gt; element SHOULD possess a 'caption' attribute that describes the example, whereas the &lt;code/&gt; element does not. Define an XML CDATA section within both of these elements so that you do not need to escape the '&lt;' and '&gt;' characters in your sample XML stanzas, since this makes life much easier for author and editor alike (see the markup in existing XEP specifications).</p>
    <p class="" style="">The &lt;p/&gt; and &lt;li/&gt; elements can also contain more markup that is familiar from XHTML, such as the &lt;img/&gt; element. Note that hyperlinks are of the form &lt;link url='foo'&gt;bar&lt;/link&gt; rather than &lt;a href='foo'&gt;bar&lt;/a&gt;; the reasons for this are lost in the mists of time and it is too late to change it now, so you'll just have to adjust. If needed, you can also use inline structural and presentational markup such as &lt;em/&gt;, &lt;strong/&gt;, &lt;tt/&gt;, &lt;cite/&gt;, and &lt;span/&gt; within the &lt;p/&gt; and &lt;li/&gt; elements. </p>
    <p class="" style="">You may also include tables (these are helpful for listing error codes and such). The &lt;table/&gt; element SHOULD possess a 'caption' attribute that describes the table's contents. Standard XHTML table structure applies (&lt;tr/&gt; defines a row, which contains &lt;th/&gt; elements for header rows and &lt;td/&gt; elements for data rows), and the 'colspan' and 'rowspan' attributes are also available if you need them. Table presentation (such as cellpadding and cellspacing) is handled by the XSLT and CSS stylesheets.</p>
    <p class="" style="">In fact, the xep.xsl file performs all sorts of magic in converting your XML file into HTML, including creation of the front matter, table of contents, section numbering, notes, and revision history. Feel free to submit patches for this file, but do not commit your modified version to source control.</p>
  </div>
<h2>5.
       <a name="sections" id="sections">The Sections of a XEP Document</a></h2>
  <p class="" style="">Most XEP specifications will have most of the following sections, usually in something like the order shown. Other sections may be appropriate (e.g., <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0071.html">XHTML-IM</a></span>  [<a href="#nt-id2261666">13</a>] has a section for W3C Considerations). Use your best judgment regarding the sections you need in order to make your argument, or consult with the XMPP Extensions Editor regarding your needs.</p>
  <div class="indent"><h3>5.1 <a name="sections-intro" id="sections-intro">Introduction</a></h3>
    <p class="" style="">The introduction to a XEP document is quite important since it provides the rationale for considering the proposal. In particular, the introduction SHOULD include information such as the following:</p>
    <ol start="" class="" style="">
      <li class="" style="">Tasks that users currently cannot complete because we are lacking the protocol you propose. (Note: Users are not just IM users, but any person, system, or application that could gain value from interacting with other entities over Jabber/XMPP networks.)</li>
      <li class="" style="">Other projects or protocols and how Jabber/XMPP technologies could interface with them because of your proposed protocol (e.g., XML-RPC, SOAP).</li>
      <li class="" style="">A comparison between Jabber/XMPP technologies and "the competition" (e.g., other IM systems or messaging protocols) that describes holes in the Jabber/XMPP protocols that need to be filled in order to offer similar functionality.</li>
      <li class="" style="">The relevant history of thinking within the Jabber/XMPP community.</li>
      <li class="" style="">Real-world examples of problems the protocol can solve.</li>
    </ol>
  </div>
  <div class="indent"><h3>5.2 <a name="sections-reqs" id="sections-reqs">Requirements</a></h3>
    <p class="" style="">Every XEP document SHOULD include a section describing the requirements being addressed by the document. This information is critically important, because it clearly defines the scope of the proposal as well as any relevant constraints on the protocol design.</p>
  </div>
  <div class="indent"><h3>5.3 <a name="sections-glossary" id="sections-glossary">Glossary</a></h3>
    <p class="" style="">If your XEP document uses terms that may not be familiar to the reader, please define them in a glossary.</p>
  </div>
  <div class="indent"><h3>5.4 <a name="sections-usecases" id="sections-usecases">Use Cases</a></h3>
    <p class="" style="">It is recommended that document authors structure their proposals according to the use cases that the proposal will address.  [<a href="#nt-id2261799">14</a>] We have found that use cases force authors to focus on functionality rather than "protocol for the sake of protocol". It is also helpful to sort use cases by actor, as is done in <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0045.html">Multi-User Chat</a></span>  [<a href="#nt-id2261842">15</a>], for example. Include one subsection for each use case.</p>
    <p class="" style="">When writing use cases and the associated protocols, make sure to:</p>
    <ul class="" style="">
      <li class="" style="">Clearly define the success scenarios, alternate flows, and possible errors.</li>
      <li class="" style="">Describe the expected behavior of Jabber/XMPP clients, servers, and components when using this protocol.</li>
      <li class="" style="">Include lots of protocol examples.</li>
    </ul>
    <p class="" style="">We just said so, but we will repeat ourselves: include lots of protocol examples. Examples help not only implementors but also those who will review your proposal in the Standards SIG and XMPP Council. You get extra credit with the XMPP Extensions Editor if you follow Jabber tradition by using characters and situations from the plays of Shakespeare:</p>
    <p class="caption"><a name="example-1" id="example-1"></a>Example 1. An Example from Shakespeare</p><div class="indent"><pre>
&lt;message 
    from='juliet@capulet.com/balcony'
    to='romeo@montague.net/garden'
    type='chat'&gt;
  &lt;body&gt;Wherefore art thou, Romeo?&lt;/body&gt;
&lt;/message&gt;
    </pre></div>
  </div>
  <div class="indent"><h3>5.5 <a name="sections-errors" id="sections-errors">Error Codes</a></h3>
    <p class="" style="">If your proposal defines a number of error and status codes (as is done in XEP-0045), it is a good idea to include a table of all the codes defined in your document.</p>
  </div>
  <div class="indent"><h3>5.6 <a name="sections-bizrules" id="sections-bizrules">Business Rules</a></h3>
    <p class="" style="">You may want to include a section describing various business rules (essentially, a variety of MUSTs, SHOULDs, and MAYs regarding application behavior). This is not required but can be helpful to implementors.</p>
  </div>
  <div class="indent"><h3>5.7 <a name="sections-impl" id="sections-impl">Implementation Notes</a></h3>
    <p class="" style="">You may want to include a section devoted to implementation notes. Again, this is not required but can be helpful to implementors.</p>
  </div>
  <div class="indent"><h3>5.8 <a name="sections-i18n" id="sections-i18n">Internationalization Considerations</a></h3>
    <p class="" style="">If there are any internationalization or localization issues related to your proposal (e.g., whether to include the 'xml:lang' attribute), define them in this optional section.</p>
  </div>
  <div class="indent"><h3>5.9 <a name="sections-security" id="sections-security">Security Considerations</a></h3>
    <p class="" style="">Your proposal MUST include a section entitled "Security Considerations". Even if there are no security features or concerns related to your proposal, you MUST note that fact. For helpful guidelines, refer to <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3552">RFC 3552</a></span>  [<a href="#nt-id2262017">16</a>].</p>
  </div>
  <div class="indent"><h3>5.10 <a name="sections-iana" id="sections-iana">IANA Considerations</a></h3>
    <p class="" style="">This section is REQUIRED. The IANA is the Internet Assigned Numbers Authority, the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. Most proposals do not require interaction with the IANA, in which case the text of this section SHOULD read "This document requires no interaction with the Internet Assigned Numbers Authority (IANA)." If your proposal requires interaction with the IANA, discuss the matter with the XMPP Extensions Editor. Do not contact the IANA on your own!</p>
  </div>
  <div class="indent"><h3>5.11 <a name="sections-registrar" id="sections-registrar">XMPP Registrar Considerations</a></h3>
    <p class="" style="">This section is REQUIRED. The XMPP Registrar maintains a list of reserved Jabber protocol namespaces as well as registries of parameters used in the context of protocols approved by the XMPP Standards Foundation. If your proposal does not require interaction with the XMPP Registrar, the text of this section SHOULD read "No namespaces or parameters need to be registered with the XMPP Registrar as a result of this document." Refer to Draft or Final XEPs for appropriate text in other cases, or consult with the XMPP Extensions Editor.</p>
  </div>
  <div class="indent"><h3>5.12 <a name="sections-schema" id="sections-schema">XML Schema</a></h3>
    <p class="" style="">An XML Schema is required in order for protocols to be approved by the XMPP Council. The XMPP Extensions Editor can assist you in defining an XML Schema for the protocol you are proposing.</p>
  </div>
  <div class="indent"><h3>5.13 <a name="sections-ack" id="sections-ack">Acknowledgements</a></h3>
    <p class="" style="">Some XEP documents end with a section thanking non-authors who have made significant contributions to the specification; if that is true of your document, feel free to include this section.</p>
  </div>
<h2>6.
       <a name="styleguide" id="styleguide">XEP Styleguide</a></h2>
  <p class="" style=""><span class="em">Note: Authors of XMPP Extension Protocol specifications can consider this section as a kind of "Implementation Notes". :-)</span></p>
  <p class="" style="">XMPP Extension Protocols are written in English. It is not expected that you will be a fine prose writer, but try to write in a clear, easily-understood fashion. The XMPP Extensions Editor will correct any errors of grammar, spelling  [<a href="#nt-id2262129">17</a>], punctuation, and usage he may find in your proposal, but may not do so until your proposal is in the XMPP Council's queue for consideration. In addition, the XMPP Extensions Editor reserves the right to improve phrases that are unclear or infelicitous, move sections around, modify examples to use Shakespearean characters, and otherwise improve the argument and logical flow of your proposal (naturally, without changing the meaning).</p>
  <p class="" style="">The following styleguide is provided to supplement the standard English styleguides, such as <span class="ref">The Elements of Style</span>  [<a href="#nt-id2262156">18</a>] and <span class="ref">The Chicago Manual of Style</span>  [<a href="#nt-id2262170">19</a>]; please refer to those resources for information about common English (especially American English) usage and to this styleguide for XEP-specific guidelines.</p>
  <div class="indent"><h3>6.1 <a name="style-attr" id="style-attr">Attributes</a></h3>
    <p class="" style="">When talking about an attribute by name, refer to it in single quotes. Example: the 'to' attribute.</p>
    <p class="" style="">When talking about the value of an attribute, refer to it in double quotes. Example: the value of the 'subscription' attribute is "both".</p>
    <p class="" style="">Elements <span class="em">possess</span> attributes and <span class="em">contain</span> character data and/or child elements; do not confuse these terms.</p>
  </div>
  <div class="indent"><h3>6.2 <a name="style-ex" id="style-ex">Code Examples</a></h3>
    <p class="" style="">In examples, use single quotes rather than double quotes; they are more readable.</p>
    <p class="" style="">To show the hierarchy of XML elements, indent two spaces for every level.</p>
    <p class="" style="">If an element possesses a large number of attributes, include a line break before each attribute and indent them so that they are vertically aligned for readability.</p>
    <p class="" style="">If the XML character data of an element is long, include line breaks and indent by two spaces.</p>
    <p class="" style="">Examples are the major source of right-scrolling in our HTML output files. Right-scrolling is evil. Therefore, adjust your example layouts accordingly (line widths should be no more than 110 characters or so).</p>
    <p class="" style="">Example:</p>
    <p class="caption"></p><div class="indent"><pre>
&lt;iq from='darkcave@macbeth.shakespeare.lit' 
    id='config1' 
    to='crone1@shakespeare.lit/desktop' 
    type='result'&gt;
  &lt;query xmlns='http://jabber.org/protocol/muc#roomconfig'&gt;
    &lt;x xmlns='jabber:x:data' type='form'&gt;
      &lt;title&gt;Configuration for "darkcave" Room&lt;/title&gt;
      &lt;instructions&gt;
        Please complete this form to make changes to the configuration 
        of your room; to add room owners and administrators, use the 
        appropriate room commands rather than this form.
      &lt;/instructions&gt;
      &lt;field
          type='hidden'
          var='FORM_TYPE'&gt;
        &lt;value&gt;http://jabber.org/protocol/muc#roomconfig&lt;/value&gt;
      &lt;/field&gt;
  &lt;/query&gt;
&lt;/iq&gt;
    </pre></div>
    <p class="" style="">Some examples (e.g., SASL examples) include strings that are encoded using Base64 (see <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3548">RFC 3548</a></span>  [<a href="#nt-id2262339">20</a>]). An easy way to generate these is to use the <a href="http://www.openssl.org/">OpenSSL</a> "enc" command to generate the base64-encoded equivalent. For example, the following command will generate the base64-encoded string "YmFyZEBzaGFrZXNwZWFyZS5saXQ=":</p>
    <p class="caption"></p><div class="indent"><pre>
echo -n 'bard@shakespeare.lit' | openssl enc -base64
    </pre></div>
    <p class="" style="">Some examples (e.g., avatar examples) include strings that are SHA-1 hashes (see <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3174">RFC 3174</a></span>  [<a href="#nt-id2262388">21</a>]). An easy way to generate these is to use the <a href="http://www.openssl.org/">OpenSSL</a> "dgst" command to generate the SHA-1 hash. For example, the following command will generate the SHA-1 hash "9f5f9fdab9da7fc12e3c52b258acbcb4bb8e66ac":</p>
    <p class="caption"></p><div class="indent"><pre>
echo -n 'bard@shakespeare.lit' | openssl dgst -sha1
    </pre></div>
  </div>
  <div class="indent"><h3>6.3 <a name="style-conf" id="style-conf">Conformance Terms</a></h3>
    <p class="" style="">Conformance terms (e.g,, "MUST" and "SHOULD") are specified in RFC 2119. Use them. When such terms are not in ALL CAPS, the special conformance sense does not apply (this should be obvious but may not be to all authors).</p>
  </div>
  <div class="indent"><h3>6.4 <a name="style-elem" id="style-elem">Elements</a></h3>
    <p class="" style="">When talking about an element by name, refer to it as an empty XML element. Example: the &lt;query/&gt; element.</p>
    <p class="" style="">The top-level &lt;message/&gt;, &lt;presence/&gt;, and &lt;iq/&gt; elements are actually XML stanzas (see <span class="ref">RFC 3920</span>); refer to them as such.</p>
    <p class="" style="">Elements <span class="em">possess</span> attributes and <span class="em">contain</span> character data and/or child elements; do not confuse these terms.</p>
    <p class="" style="">Do not use the term "tag" when you mean "element".</p>
    <p class="" style="">Do not add a possessive to the element itself. Negative example: the &lt;body/&gt;'s character data. Positive example: the &lt;body/&gt; element's character data.</p>
    <p class="" style="">Note: There are shortcuts for stanza names and some common element names in the xep.ent file.</p>
  </div>
  <div class="indent"><h3>6.5 <a name="style-err" id="style-err">Errors</a></h3>
    <p class="" style="">When talking about an error condition, use the XML element names defined in <span class="ref">RFC 3920</span> rather than the old HTTP-style code numbers. Example: the &lt;feature-not-implemented/&gt; error.</p>
    <p class="" style="">Note: There are shortcuts for the stanza errors in the xep.ent file.</p>
  </div>
  <div class="indent"><h3>6.6 <a name="style-ns" id="style-ns">Namespaces</a></h3>
    <p class="" style="">When talking about a namespace by name, refer to it in single quotes. Example: the 'jabber:iq:roster' namespace.</p>
    <p class="" style="">An element or attribute is <span class="em">qualified by</span> (rather than "scoped by" or "in") a particular namespace.</p>
  </div>
  <div class="indent"><h3>6.7 <a name="style-quot" id="style-quot">Quotes</a></h3>
    <p class="" style="">For precision, the XSF follows IETF usage by placing all punctuation outside the quotation marks unless one is quoting text that includes the punctuation. Example: the port used for client communications is "5222".</p>
  </div>
<hr /><h2><a name="notes" id="notes"></a>Notes</h2><div class="indent"><p><a name="nt-id2252648" id="nt-id2252648">1</a>. The XMPP Standards Foundation (XSF) is an independent, non-profit membership organization that develops open extensions to the IETF's Extensible Messaging and Presence Protocol (XMPP). For further information, see &lt;<a href="http://www.xmpp.org/xsf/">http://www.xmpp.org/xsf/</a>&gt;.</p><p><a name="nt-id2252686" id="nt-id2252686">2</a>. RFC 3920: Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://tools.ietf.org/html/rfc3920">http://tools.ietf.org/html/rfc3920</a>&gt;.</p><p><a name="nt-id2252756" id="nt-id2252756">3</a>. XEP-0001: XMPP Extension Protocols &lt;<a href="http://www.xmpp.org/extensions/xep-0001.html">http://www.xmpp.org/extensions/xep-0001.html</a>&gt;.</p><p><a name="nt-id2251323" id="nt-id2251323">4</a>. The XMPP Council is a technical steering committee, authorized by the XSF Board of Directors and elected by XSF members, that approves of new XMPP Extensions Protocols and oversees the XSF's standards process. For further information, see &lt;<a href="http://www.xmpp.org/council/">http://www.xmpp.org/council/</a>&gt;.</p><p><a name="nt-id2251498" id="nt-id2251498">5</a>. The Internet Engineering Task Force is the principal body engaged in the development of new Internet standard specifications, best known for its work on standards such as HTTP and SMTP. For further information, see &lt;<a href="http://www.ietf.org/">http://www.ietf.org/</a>&gt;.</p><p><a name="nt-id2251528" id="nt-id2251528">6</a>. The World Wide Web Consortium defines data formats and markup languages (such as HTML and XML) for use over the Internet. For further information, see &lt;<a href="http://www.w3.org/">http://www.w3.org/</a>&gt;.</p><p><a name="nt-id2251551" id="nt-id2251551">7</a>. The Standards SIG is a standing Special Interest Group devoted to development of XMPP Extension Protocols. The discussion list of the Standards SIG is the primary venue for discussion of XMPP protocol extensions, as well as for announcements by the XMPP Extensions Editor and XMPP Registrar. To subscribe to the list or view the list archives, visit &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards/">http://mail.jabber.org/mailman/listinfo/standards/</a>&gt;.</p><p><a name="nt-id2251369" id="nt-id2251369">8</a>. XEP-0134: Protocol Design Guidelines &lt;<a href="http://www.xmpp.org/extensions/xep-0134.html">http://www.xmpp.org/extensions/xep-0134.html</a>&gt;.</p><p><a name="nt-id2261060" id="nt-id2261060">9</a>. The XMPP Extensions Editor is the individual appointed by the XSF Board of Directors to handle protocol submissions and provide day-to-day management of the XSF's standards process. For further information, see &lt;<a href="http://www.xmpp.org/extensions/editor.shtml">http://www.xmpp.org/extensions/editor.shtml</a>&gt;.</p><p><a name="nt-id2261101" id="nt-id2261101">10</a>. The XSF IPR Policy defines the XMPP Standards Foundation's official policy regarding intellectual property rights (IPR) as they pertain to XMPP Extension Protocols (XEPs). For further information, see &lt;<a href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt;.</p><p><a name="nt-id2261212" id="nt-id2261212">11</a>. &lt;<a href="http://www.xml.com/pub/a/tools/ruwf/check.html">http://www.xml.com/pub/a/tools/ruwf/check.html</a>&gt;</p><p><a name="nt-id2261440" id="nt-id2261440">12</a>. XEP-0175: Best Practices for Use of SASL ANONYMOUS &lt;<a href="http://www.xmpp.org/extensions/xep-0175.html">http://www.xmpp.org/extensions/xep-0175.html</a>&gt;.</p><p><a name="nt-id2261666" id="nt-id2261666">13</a>. XEP-0071: XHTML-IM &lt;<a href="http://www.xmpp.org/extensions/xep-0071.html">http://www.xmpp.org/extensions/xep-0071.html</a>&gt;.</p><p><a name="nt-id2261799" id="nt-id2261799">14</a>. A good introduction to use cases may be found at &lt;<a href="http://www.pols.co.uk/usecasezone/">http://www.pols.co.uk/usecasezone/</a>&gt;.</p><p><a name="nt-id2261842" id="nt-id2261842">15</a>. XEP-0045: Multi-User Chat &lt;<a href="http://www.xmpp.org/extensions/xep-0045.html">http://www.xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-id2262017" id="nt-id2262017">16</a>. RFC 3552: Guidelines for Writing RFC Text on Security Considerations &lt;<a href="http://tools.ietf.org/html/rfc3552">http://tools.ietf.org/html/rfc3552</a>&gt;.</p><p><a name="nt-id2262129" id="nt-id2262129">17</a>. With all due respect to authors in other parts of the world, XMPP Extension Protocols follow American spelling conventions; thus "authorisation" will be changed to "authorization" and such.</p><p><a name="nt-id2262156" id="nt-id2262156">18</a>. See &lt;<a href="http://en.wikipedia.org/wiki/The_Elements_of_Style">http://en.wikipedia.org/wiki/The_Elements_of_Style</a>&gt;.</p><p><a name="nt-id2262170" id="nt-id2262170">19</a>. See &lt;<a href="http://en.wikipedia.org/wiki/The_Chicago_Manual_of_Style">http://en.wikipedia.org/wiki/The_Chicago_Manual_of_Style</a>&gt;.</p><p><a name="nt-id2262339" id="nt-id2262339">20</a>. RFC 3548: The Base16, Base32, and Base64 Data Encodings &lt;<a href="http://tools.ietf.org/html/rfc3548">http://tools.ietf.org/html/rfc3548</a>&gt;.</p><p><a name="nt-id2262388" id="nt-id2262388">21</a>. RFC 3174: US Secure Hash Algorithm 1 (SHA1) &lt;<a href="http://tools.ietf.org/html/rfc3174">http://tools.ietf.org/html/rfc3174</a>&gt;.</p></div><hr /><h2><a name="revs" id="revs"></a>Revision History</h2><div class="indent"><h4>Version 1.0 (2004-12-09)</h4><div class="indent"><p class="" style="">Per a vote of the XMPP Council, advanced status to Active.</p> (psa)
    </div><h4>Version 0.4 (2004-10-22)</h4><div class="indent"><p class="" style="">Further clarifications.</p> (psa)
    </div><h4>Version 0.3 (2004-10-12)</h4><div class="indent"><p class="" style="">Minor clarifications throughout.</p> (psa)
    </div><h4>Version 0.2 (2004-09-16)</h4><div class="indent"><p class="" style="">Described document metadata elements.</p> (psa)
    </div><h4>Version 0.1 (2004-09-15)</h4><div class="indent"><p class="" style="">Initial version.</p> (psa)
    </div></div><hr /><p>END</p></body></html>
