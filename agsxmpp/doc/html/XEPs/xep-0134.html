<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-0134: Protocol Design Guidelines</title><link rel="stylesheet" type="text/css" href="/xmpp.css" /><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" /><meta name="DC.Title" content="Protocol Design Guidelines" /><meta name="DC.Creator" content="Peter Saint-Andre" /><meta name="DC.Description" content="This document defines best practices for the intelligent design of Jabber protocols and other XMPP extensions." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="2004-12-09" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-0134" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF)." /></head><body><h1>XEP-0134: Protocol Design Guidelines</h1><p>This document defines best practices for the intelligent design of Jabber protocols and other XMPP extensions.</p><hr /><p style="color:green">NOTICE: This Informational specification defines a best practice or protocol profile that has been approved by the XMPP Council and/or the XSF Board of Directors. Implementations are encouraged and the best practice or protocol profile is appropriate for deployment in production systems.</p><hr /><h2>Document Information</h2><p class="indent">
            Series: <a href="http://www.xmpp.org/extensions/">XEP</a><br />
            Number: 0134<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://www.xmpp.org/extensions/xep-0001.html#states-Active">Active</a><br />
            Type:
            <a href="http://www.xmpp.org/extensions/xep-0001.html#types-Informational">Informational</a><br />
            Version: 1.1<br />
            Last Updated: 2004-12-09<br />
                Approving Body: <a href="http://www.xmpp.org/council/">XMPP Council</a><br />
                Dependencies: None<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: N/A<br />
              Wiki Page: &lt;<a href="http://wiki.jabber.org/index.php/Protocol Design Guidelines (XEP-0134)">http://wiki.jabber.org/index.php/Protocol Design Guidelines (XEP-0134)</a>&gt;
            </p><hr /><h2>Author Information</h2><div class="indent"><h3>Peter Saint-Andre</h3><p class="indent">
        JabberID: 
        <a href="xmpp:stpeter@jabber.org">stpeter@jabber.org</a><br />
        URI: 
        <a href="https://stpeter.im/">https://stpeter.im/</a><br /></p></div><hr /><h2>Legal Notices</h2><div class="indent"><h3>Copyright</h3>This XMPP Extension Protocol is copyright (c) 1999 - 2008 by the XMPP Standards Foundation (XSF).<h3>Permissions</h3>Permission is hereby granted, free of charge, to any person obtaining a copy of this specification (the "Specification"), to make use of the Specification without restriction, including without limitation the rights to implement the Specification in a software program, deploy the Specification in a network service, and copy, modify, merge, publish, translate, distribute, sublicense, or sell copies of the Specification, and to permit persons to whom the Specification is furnished to do so, subject to the condition that the foregoing copyright notice and this permission notice shall be included in all copies or substantial portions of the Specification. Unless separate permission is granted, modified works that are redistributed shall not contain misleading information regarding the authors, title, number, or publisher of the Specification, and shall not claim endorsement of the modified works by the authors, any organization or project to which the authors belong, or the XMPP Standards Foundation.<h3>Disclaimer of Warranty</h3><span style="font-weight: bold">## NOTE WELL: This Specification is provided on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. In no event shall the XMPP Standards Foundation or the authors of this Specification be liable for any claim, damages, or other liability, whether in an action of contract, tort, or otherwise, arising from, out of, or in connection with the Specification or the implementation, deployment, or other use of the Specification. ##</span><h3>Limitation of Liability</h3>In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall the XMPP Standards Foundation or any author of this Specification be liable for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising out of the use or inability to use the Specification (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if the XMPP Standards Foundation or such author has been advised of the possibility of such damages.<h3>IPR Conformance</h3>This XMPP Extension Protocol has been contributed in full conformance with the XSF's Intellectual Property Rights Policy (a copy of which may be found at &lt;<a href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt; or obtained by writing to XSF, P.O. Box 1641, Denver, CO 80201 USA).</div><hr /><h2>Discussion Venue</h2><p class="indent">The preferred venue for discussion of this document is the Standards discussion list: &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">http://mail.jabber.org/mailman/listinfo/standards</a>&gt;.</p><p class="indent">Errata may be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><h2>Relation to XMPP</h2><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP IM (RFC 3921) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><h2>Conformance Terms</h2><p class="indent">The following keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#intro">Introduction</a><br />2.  <a href="#guidelines">Guidelines</a><br />   
      2.1.  <a href="#xmpp">XMPP is Sacred</a><br />   
      2.2.  <a href="#simple">Keep Clients Simple</a><br />   
      2.3.  <a href="#reuse">Re-Use Existing Protocols</a><br />   
      2.4.  <a href="#modular">Modular is Better</a><br />   
      2.5.  <a href="#strengths">Know Your Strengths</a><br />   
      2.6.  <a href="#explicit">Be Explicit</a><br />   
      2.7.  <a href="#flexible">Stay Flexible</a><br />   
      2.8.  <a href="#privacy">Privacy and Security Matter</a><br />3.  <a href="#security">Security Considerations</a><br />4.  <a href="#iana">IANA Considerations</a><br />5.  <a href="#registrar">XMPP Registrar Considerations</a><br /><a href="#notes">Notes</a><br /><a href="#revs">Revision History</a></p></div><hr /><h2>1.
       <a name="intro" id="intro">Introduction</a></h2>
  <p class="" style="">The Extensible Messaging and Presence Protocol (XMPP) provides a solid, flexible foundation for a wide variety of applications on top of XMPP's core XML streaming technology. With the advancement of <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3920">XMPP Core</a></span>  [<a href="#nt-id2252628">1</a>] and <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3921">XMPP IM</a></span>  [<a href="#nt-id2252655">2</a>] within the Internet Standards Process, interest in building XMPP-based applications and extensions has accelerated even further. Unfortunately, not everyone who wants to build public or private XMPP extensions is familiar with the key design criteria that motivated the original developers of the Jabber technologies or that guide successful XMPP-based protocol design today. Thus there is value in attempting to translate the often-implicit knowledge held by long-time Jabber developers and protocol designers into more explicit policies and principles to which others can adhere.  [<a href="#nt-id2252616">3</a>] The end result of explicating "The Jabber Way" will hopefully be a wider and deeper understanding of good protocol design practices within the Jabber/XMPP community.</p>
<h2>2.
       <a name="guidelines" id="guidelines">Guidelines</a></h2>
  <div class="indent"><h3>2.1 <a name="xmpp" id="xmpp">XMPP is Sacred</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">When the <span class="ref" style=""><a href="http://www.xmpp.org/xsf/">XMPP Standards Foundation (XSF)</a></span>  [<a href="#nt-id2252740">5</a>] submitted the <span class="ref">XMPP Core</span> and <span class="ref">XMPP IM</span> specifications to the <span class="ref" style=""><a href="http://www.ietf.org/">Internet Engineering Task Force (IETF)</a></span>  [<a href="#nt-id2251315">6</a>], it ceded change control over the core XML streaming technology developed by the Jabber community. However, the XSF has reserved the right to define extensions to XMPP; furthermore, that right is not exclusive to the XSF, since anyone can define their own public or private extensions to XMPP. These extensions are usually in the form of structured XML data that is qualified by a unique namespace other than those currently reserved by the IETF or the XSF.</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">When we say that "XMPP is Sacred", we mean that good protocol design must work within the context of XMPP and not require changes to the core protocols. For one thing, any such changes would need to be pursued within the IETF. Further, the core semantics most likely provide everything that a protocol designer needs. If you think that you need to define a new kind of top-level stanza (other than &lt;message/&gt;, &lt;presence/&gt;, and &lt;iq/&gt;) or a new value of the 'type' attribute for any stanza kind, then you need to think again. Treat XMPP as a transport layer and build extensions on top of that layer (among other things, this implies that you must not modify the foundation when you are working on higher-level structures, for example by adding adding elements and attributes to the XMPP schemas on the theory that if applications will ignore them; define your own extensions in a separate namespace). A further implication of respecting XMPP is using structured data formats (e.g., applications of <span class="ref" style=""><a href="http://www.w3.org/TR/REC-xml/">XML 1.0</a></span>  [<a href="#nt-id2251525">7</a>] rather than binary or plaintext formats) whenever possible. Finally, as explained in <span class="ref">XMPP Core</span>, the &lt;presence/&gt; stanza exists to broadcast network and communications availability only; for more advanced information publishing, use <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0060.html">Publish-Subscribe</a></span>  [<a href="#nt-id2251557">8</a>].</p>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style="">A good example of honoring the XMPP specifications is <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0126.html">Invisibility</a></span>  [<a href="#nt-id2251330">9</a>]; while the Jabber community had informally defined &lt;presence type='invisible'/&gt; at one point, that protocol was abandoned in favor of an XMPP-compliant approach. Another example is <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0071.html">XHTML-IM</a></span>  [<a href="#nt-id2251362">10</a>], which re-uses <span class="ref" style=""><a href="http://www.w3.org/TR/xhtml1">XHTML 1.0</a></span>  [<a href="#nt-id2251381">11</a>] (a structured format that shares with XMPP a common root in XML) rather than <span class="ref" style=""><a href="http://msdn.microsoft.com/library/en-us/dnrtfspec/html/rtfspec.asp">Rich Text Format (RTF)</a></span>  [<a href="#nt-id2251404">12</a>] (an unstructured format that does not derive from XML). Further examples are the "extended presence" specifications (see <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0119.html">Extended Presence Protocol Suite</a></span>  [<a href="#nt-id2251351">13</a>]), which are built on top of XEP-0060 rather than overloading the &lt;presence/&gt; stanza.</p>
  </div>
  <div class="indent"><h3>2.2 <a name="simple" id="simple">Keep Clients Simple</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">Almost all Jabber technologies are implemented in a client-server architecture. While that's not necessary (and there do exist some peer-to-peer applications of XMPP), it usually makes good sense. Among other things, a client-server architecture has enabled the Jabber community to force most of the complexity onto servers and components, thus keeping clients relatively simple. This principle has served the Jabber community well since the very beginning, and forms an important basis for further innovation.</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">The principle of "keep clients simple" has many implications, among them:</p>
    <ul class="" style="">
      <li class="" style="">Don't multiply protocols beyond necessity (the more protocols you define, the harder it is to write a client).</li>
      <li class="" style="">Degrade gracefully so that simpler or older clients can still participate in the network.</li>
      <li class="" style="">If intensive processing is required, make a server or component do it.</li>
      <li class="" style="">Don't force additional requirements (such as XSLT processors) onto clients unless absolutely necessary.</li>
    </ul>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style="">One good example of keeping clients simple is the presence stanza: the client has only to send &lt;presence/&gt; and the server takes care of presence probes, broadcasts, and appropriate routing decisions. Another example is <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0045.html">Multi-User Chat</a></span>  [<a href="#nt-id2261150">14</a>]: although the protocol involves some complexity, it was written so that older clients can join and participate in MUC rooms even if they don't understand the more advanced MUC extensions.</p>
  </div>
  <div class="indent"><h3>2.3 <a name="reuse" id="reuse">Re-Use Existing Protocols</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">The Jabber community has been developing wire protocols for XML streaming, presence, and instant messaging since 1999. In that time, members of the community have defined a number of building blocks that can be used as the basis for further development. Furthermore, many smart people have created open protocols within other standards development organizations, including the IETF, the <span class="ref" style=""><a href="http://www.w3.org/">World Wide Web Consortium (W3C)</a></span>  [<a href="#nt-id2261204">15</a>], <span class="ref" style=""><a href="http://www.oasis-open.org/">OASIS</a></span>  [<a href="#nt-id2261232">16</a>], the <span class="ref" style=""><a href="http://www.itu.int/">International Telecommunication Union (ITU)</a></span>  [<a href="#nt-id2261258">17</a>], and the <span class="ref" style=""><a href="http://www.dublincore.org/">Dublin Core Metadata Initiative (DCMI)</a></span>  [<a href="#nt-id2261287">18</a>].</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">Good protocol designers "stand on the shoulders of giants" by re-using protocols that have been defined within the XSF and within other standards development organizations. That does not mean we don't define new protocols, because sometimes that is necessary. However, we are aware of work completed by others and we make use of it, especially when that work is outside the Jabber community's core competence areas (e.g., security or multimedia data formats rather than XML streaming, presence, and real-time messaging). Furthermore, the XSF prefers to re-use open protocols wherever possible. Finally, just as with XMPP, so also with XMPP extensions defined through the XSF: do not modify existing schemas (e.g., adding new elements and attributes) except through the XMPP extension process; instead, define extensions in a separate namespace).</p>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style="">Examples of re-using existing Jabber protocols include <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0095.html">Stream Initiation</a></span>  [<a href="#nt-id2261380">19</a>] (which re-uses <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0020.html">Feature Negotiation</a></span>  [<a href="#nt-id2261400">20</a>]) and <span class="ref">XEP-0126: Invisibility</span> (which re-uses the privacy lists protocol defined in <span class="ref">XMPP IM</span>). Examples of re-using non-Jabber protocols include <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0065.html">SOCKS5 Bytestreams</a></span>  [<a href="#nt-id2261433">21</a>] (which makes use of <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc1928">RFC 1928</a></span>  [<a href="#nt-id2261458">22</a>]) and <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0127.html">Common Alerting Protocol (CAP) over XMPP</a></span>  [<a href="#nt-id2261477">23</a>] (which defines a way to send <span class="ref" style=""><a href="http://www.oasis-open.org/committees/documents.php?wg_abbrev=emergency">Common Alerting Protocol</a></span>  [<a href="#nt-id2261504">24</a>] data via Jabber). Here again XEP-0071 provides an example: it re-uses XHTML 1.0 (an open protocol developed by a recognized standards development organization) rather than RTF (a closed protocol under the control of the Microsoft Corporation).</p>
  </div>
  <div class="indent"><h3>2.4 <a name="modular" id="modular">Modular is Better</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">Most Jabber implementations are built using modular architectures, wherein pieces of functionality are coded as separate components and then assembled into larger wholes, with core routing logic that integrates the system (examples include clients that enable the development of plugins and servers that enable the attachment of external components). We can view many Jabber protocols the same way: each one specifies a well-defined domain of functionality that is loosely connected to other domains and integrated by the core transport layer provided by XMPP.</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">The best Jabber protocols are quite focused and provide limited but powerful functionality that can be applied in a specific domain or, sometimes, re-used by other Jabber protocols. Even if the domain is more complex, a protocol that addresses it needs to clearly define its scope, limit that scope as much as possible, and specify only the protocols necessary to meet the core requirements.</p>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0030.html">Service Discovery</a></span>  [<a href="#nt-id2261596">25</a>] and <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0004.html">Data Forms</a></span>  [<a href="#nt-id2261621">26</a>] are good examples of focused, single-purpose protocols. By contrast, <span class="ref">Multi-User Chat</span> is more complex, but it limits itself to the domain of text conferencing in the context of virtual rooms (e.g., it does not address service-level administration) and consists of separate namespaces for end-user, moderator, and room owner functionality. A good example of a protocol that is focused on a smaller domain is <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0144.html">Roster Item Exchange</a></span>  [<a href="#nt-id2261656">27</a>].</p>
  </div>
  <div class="indent"><h3>2.5 <a name="strengths" id="strengths">Know Your Strengths</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">The core strength of Jabber technologies is the streaming of relatively small XML fragments between presence-aware network endpoints. As is usually the case, our greatest strength is also our greatest weakness. Thus XMPP is not optimized for binary data, large XML files, multimedia streaming, or other such applications.</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">It's not a bad thing that we don't solve the problems of exchanging binary data, streaming multimedia, or transferring large XML files, because other protocols and technologies have addressed those domains. But it's important to recognize what we do well and what we don't. For example, sending base64-encoded binary data, streaming voice or video, or consistently large stanzas in the Jabber band 
       [<a href="#nt-id2261703">28</a>]
    is probably not a good idea, and applications that would depend on such behavior are better designed to communicate their data out of band.</p>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style=""><span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0096.html">File Transfer</a></span>  [<a href="#nt-id2261786">29</a>] is a good example of respecting the strengths and weaknesses of XMPP, since it specifies that going out of band is the preferred mechanism for bandwidth-heavy data transfers.</p>
  </div>
  <div class="indent"><h3>2.6 <a name="explicit" id="explicit">Be Explicit</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">In the beginning was the code (mainly <span class="ref" style=""><a href="http://jabberd.org/">jabberd</a></span>  [<a href="#nt-id2261834">30</a>]). Although code is explicit in its own way, not everyone reads code, and detailed specifications are necessary in order to make functionality reproducible in different codebases. The Jabber community has learned that lesson the hard way.</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">Detailed, explicit specifications are good specifications. Define your terms. Use conformance terminology such as MUST and SHOULD rather than loose English words such as "does" and "will". Follow the <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0143.html">Guidelines for Authors of XMPP Extension Protocols</a></span>  [<a href="#nt-id2261886">31</a>]. Specify error conditions. Include lots of examples. Restrict the allowable XML via schemas and datatypes as specified in <span class="ref" style=""><a href="http://www.w3.org/TR/xmlschema-1/">XML Schema Part 1</a></span>  [<a href="#nt-id2261902">32</a>] and <span class="ref" style=""><a href="http://www.w3.org/TR/xmlschema-2/">XML Schema Part 2</a></span>  [<a href="#nt-id2261930">33</a>].</p>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style=""><span class="ref">XMPP Core</span> and <span class="ref">XMPP IM</span> are large documents that define the Extensible Messaging and Presence Protocol in excruciating detail. Although such specifications are not fun to write, they provide a model for good protocol design and documentation.</p>
  </div>
  <div class="indent"><h3>2.7 <a name="flexible" id="flexible">Stay Flexible</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">The need for explicit definition must be balanced against the need for flexibility. A completely rigid protocol may break under stress or when conditions change, whereas a more flexible protocol may bend and adapt. Knowing when to be explicit and when to be flexible is a key to good protocol design.</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">In general, a protocol needs to define the skeleton of functionality, but not necessarily specific parameters or values to be used within a certain domain. In order to allow for growth and change, it often makes sense to specify that the <span class="ref" style=""><a href="http://www.xmpp.org/registrar/">XMPP Registrar</a></span>  [<a href="#nt-id2262026">34</a>] shall keep track of certain parameters and values, rather than to explicitly limit them in the protocol itself.</p>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style="">Whereas the old <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0094.html">Agent Information</a></span>  [<a href="#nt-id2262071">35</a>] and <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0011.html">Jabber Browsing</a></span>  [<a href="#nt-id2262099">36</a>] protocols defined certain hardcoded values for entity types and categories, <span class="ref">Service Discovery</span> has left that function up to the XMPP Registrar. Similarly, <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0095.html">Stream Initiation</a></span>  [<a href="#nt-id2262113">37</a>] defines a registry for its profiles, <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0079.html">Advanced Message Processing</a></span>  [<a href="#nt-id2262132">38</a>] defines registries for processing conditions and actions, and a number of XMPP Extension Protocols register FORM_TYPE values as specified in <span class="ref" style=""><a href="http://www.xmpp.org/extensions/xep-0068.html">Field Standardization for Data Forms</a></span>  [<a href="#nt-id2262162">39</a>].</p>
  </div>
  <div class="indent"><h3>2.8 <a name="privacy" id="privacy">Privacy and Security Matter</a></h3>
    <p class="" style=""><span class="em">Background</span></p>
    <p class="" style="">Since the beginning, privacy and security have been important priorities within the Jabber community. That must not change.</p>
    <p class="" style=""><span class="em">Meaning</span></p>
    <p class="" style="">Good protocols respect the confidentiality of data generated or communicated by users and applications as well as the security of the system or network as a whole. Although privacy and security considerations have been dealt with at the core XMPP layer, application-level protocols must not compromise privacy and security. Attention to these matters, along with rigorous cross-area review and close scrutiny by protocol designers (in the form of the <span class="ref" style=""><a href="http://www.xmpp.org/council/">XMPP Council</a></span>  [<a href="#nt-id2262255">40</a>] and <span class="ref" style=""><a href="http://mail.jabber.org/mailman/listinfo/standards/">Standards SIG</a></span>  [<a href="#nt-id2262287">41</a>]), will help ensure that the protocols we develop will provide a strong foundation for communication over the Internet.</p>
    <p class="" style=""><span class="em">Examples</span></p>
    <p class="" style="">As is well-known, the presence subscription model developed by the Jabber community and specified in <span class="ref">XMPP IM</span> requires approval before a contact can view a user's presence. Similarly, Jabber has always included strong authentication methods, which have been further improved through the use of SASL (<span class="ref" style=""><a href="http://tools.ietf.org/html/rfc4422">RFC 4422</a></span>  [<a href="#nt-id2262342">42</a>]).</p>
  </div>
<h2>3.
       <a name="security" id="security">Security Considerations</a></h2>
  <p class="" style="">There are no security features or concerns directly related to this proposal, which is informational in nature. However, as discussed above, protocols that are developed following these guidelines should appropriately address privacy and security considerations. Helpful guidelines for security in relation to Internet protocol design can be found in <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3552">RFC 3552</a></span>  [<a href="#nt-id2262426">43</a>].</p>
<h2>4.
       <a name="iana" id="iana">IANA Considerations</a></h2>
  <p class="" style="">This document requires no interaction with the <span class="ref" style=""><a href="http://www.iana.org/">Internet Assigned Numbers Authority (IANA)</a></span>  [<a href="#nt-id2262404">44</a>].</p>
<h2>5.
       <a name="registrar" id="registrar">XMPP Registrar Considerations</a></h2>
  <p class="" style="">This document requires no interaction with the XMPP Registrar.</p>
<hr /><h2><a name="notes" id="notes"></a>Notes</h2><div class="indent"><p><a name="nt-id2252628" id="nt-id2252628">1</a>. RFC 3920: Extensible Messaging and Presence Protocol (XMPP): Core &lt;<a href="http://tools.ietf.org/html/rfc3920">http://tools.ietf.org/html/rfc3920</a>&gt;.</p><p><a name="nt-id2252655" id="nt-id2252655">2</a>. RFC 3921: Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence &lt;<a href="http://tools.ietf.org/html/rfc3921">http://tools.ietf.org/html/rfc3921</a>&gt;.</p><p><a name="nt-id2252616" id="nt-id2252616">3</a>. For more general insights into Internet protocol design, see <span class="ref" style=""><a href="http://tools.ietf.org/html/rfc3117">RFC 3117</a></span>  [<a href="#nt-id2252686">4</a>].</p><p><a name="nt-id2252686" id="nt-id2252686">4</a>. RFC 3117: On the Design of Application Protocols &lt;<a href="http://tools.ietf.org/html/rfc3117">http://tools.ietf.org/html/rfc3117</a>&gt;.</p><p><a name="nt-id2252740" id="nt-id2252740">5</a>. The XMPP Standards Foundation (XSF) is an independent, non-profit membership organization that develops open extensions to the IETF's Extensible Messaging and Presence Protocol (XMPP). For further information, see &lt;<a href="http://www.xmpp.org/xsf/">http://www.xmpp.org/xsf/</a>&gt;.</p><p><a name="nt-id2251315" id="nt-id2251315">6</a>. The Internet Engineering Task Force is the principal body engaged in the development of new Internet standard specifications, best known for its work on standards such as HTTP and SMTP. For further information, see &lt;<a href="http://www.ietf.org/">http://www.ietf.org/</a>&gt;.</p><p><a name="nt-id2251525" id="nt-id2251525">7</a>. Extensible Markup Language (XML) 1.0 (Fourth Edition) &lt;<a href="http://www.w3.org/TR/REC-xml/">http://www.w3.org/TR/REC-xml/</a>&gt;.</p><p><a name="nt-id2251557" id="nt-id2251557">8</a>. XEP-0060: Publish-Subscribe &lt;<a href="http://www.xmpp.org/extensions/xep-0060.html">http://www.xmpp.org/extensions/xep-0060.html</a>&gt;.</p><p><a name="nt-id2251330" id="nt-id2251330">9</a>. XEP-0126: Invisibility &lt;<a href="http://www.xmpp.org/extensions/xep-0126.html">http://www.xmpp.org/extensions/xep-0126.html</a>&gt;.</p><p><a name="nt-id2251362" id="nt-id2251362">10</a>. XEP-0071: XHTML-IM &lt;<a href="http://www.xmpp.org/extensions/xep-0071.html">http://www.xmpp.org/extensions/xep-0071.html</a>&gt;.</p><p><a name="nt-id2251381" id="nt-id2251381">11</a>. XHTML 1.0 &lt;<a href="http://www.w3.org/TR/xhtml1">http://www.w3.org/TR/xhtml1</a>&gt;.</p><p><a name="nt-id2251404" id="nt-id2251404">12</a>. Rich Text Format (RTF) Version 1.5 Specification &lt;<a href="http://msdn.microsoft.com/library/en-us/dnrtfspec/html/rtfspec.asp">http://msdn.microsoft.com/library/en-us/dnrtfspec/html/rtfspec.asp</a>&gt;.</p><p><a name="nt-id2251351" id="nt-id2251351">13</a>. XEP-0119: Extended Presence Protocol Suite &lt;<a href="http://www.xmpp.org/extensions/xep-0119.html">http://www.xmpp.org/extensions/xep-0119.html</a>&gt;.</p><p><a name="nt-id2261150" id="nt-id2261150">14</a>. XEP-0045: Multi-User Chat &lt;<a href="http://www.xmpp.org/extensions/xep-0045.html">http://www.xmpp.org/extensions/xep-0045.html</a>&gt;.</p><p><a name="nt-id2261204" id="nt-id2261204">15</a>. The World Wide Web Consortium defines data formats and markup languages (such as HTML and XML) for use over the Internet. For further information, see &lt;<a href="http://www.w3.org/">http://www.w3.org/</a>&gt;.</p><p><a name="nt-id2261232" id="nt-id2261232">16</a>. OASIS is a not-for-profit, international consortium that drives the development, convergence and adoption of e-business standards. For further information, see &lt;<a href="http://www.oasis-open.org/">http://www.oasis-open.org/</a>&gt;.</p><p><a name="nt-id2261258" id="nt-id2261258">17</a>. The International Telecommunication Union develops technical and operating standards (such as H.323) for international telecommunication services. For further information, see &lt;<a href="http://www.itu.int/">http://www.itu.int/</a>&gt;.</p><p><a name="nt-id2261287" id="nt-id2261287">18</a>. The Dublin Core Metadata Initiative (DCMI) is an organization dedicated to promoting the widespread adoption of interoperable metadata standards. For further information, see &lt;<a href="http://www.dublincore.org/">http://www.dublincore.org/</a>&gt;.</p><p><a name="nt-id2261380" id="nt-id2261380">19</a>. XEP-0095: Stream Initiation &lt;<a href="http://www.xmpp.org/extensions/xep-0095.html">http://www.xmpp.org/extensions/xep-0095.html</a>&gt;.</p><p><a name="nt-id2261400" id="nt-id2261400">20</a>. XEP-0020: Feature Negotiation &lt;<a href="http://www.xmpp.org/extensions/xep-0020.html">http://www.xmpp.org/extensions/xep-0020.html</a>&gt;.</p><p><a name="nt-id2261433" id="nt-id2261433">21</a>. XEP-0065: SOCKS5 Bytestreams &lt;<a href="http://www.xmpp.org/extensions/xep-0065.html">http://www.xmpp.org/extensions/xep-0065.html</a>&gt;.</p><p><a name="nt-id2261458" id="nt-id2261458">22</a>. RFC 1928: SOCKS Protocol Version 5 &lt;<a href="http://tools.ietf.org/html/rfc1928">http://tools.ietf.org/html/rfc1928</a>&gt;.</p><p><a name="nt-id2261477" id="nt-id2261477">23</a>. XEP-0127: Common Alerting Protocol (CAP) over XMPP &lt;<a href="http://www.xmpp.org/extensions/xep-0127.html">http://www.xmpp.org/extensions/xep-0127.html</a>&gt;.</p><p><a name="nt-id2261504" id="nt-id2261504">24</a>. Common Alerting Protocol, v. 1.0 &lt;<a href="http://www.oasis-open.org/committees/documents.php?wg_abbrev=emergency">http://www.oasis-open.org/committees/documents.php?wg_abbrev=emergency</a>&gt;.</p><p><a name="nt-id2261596" id="nt-id2261596">25</a>. XEP-0030: Service Discovery &lt;<a href="http://www.xmpp.org/extensions/xep-0030.html">http://www.xmpp.org/extensions/xep-0030.html</a>&gt;.</p><p><a name="nt-id2261621" id="nt-id2261621">26</a>. XEP-0004: Data Forms &lt;<a href="http://www.xmpp.org/extensions/xep-0004.html">http://www.xmpp.org/extensions/xep-0004.html</a>&gt;.</p><p><a name="nt-id2261656" id="nt-id2261656">27</a>. XEP-0144: Roster Item Exchange &lt;<a href="http://www.xmpp.org/extensions/xep-0144.html">http://www.xmpp.org/extensions/xep-0144.html</a>&gt;.</p><p><a name="nt-id2261703" id="nt-id2261703">28</a>. There are no hard-and-fast rules regarding a reasonable upper limit on the average XML stanza. (Note the use of both 'reasonable' and 'average' in that sentence.) In reality, there is a continuum of stanza sizes, and different sizes may be appropriate for different types of XMPP applications and deployments. While sending 2 gigabyte or 2 megabyte stanzas is wrong in the current context of Jabber technologies, we cannot legitimately say that a 2 kilobyte, 20 kilobyte, or even 200 kilobyte stanza is unreasonable. Is the stanza sent over an open network with current server implementations, or over a closed network with specially tuned servers and clients? Does the application generate one such stanza every second, every minute, every hour? Considerations of this kind help us determine if the use of XMPP is "reasonable" in some sense. However, when protocol extensions are defined in XMPP Extension Protocols, the XMPP Council will require clear explanation of design choices and reasonable stanza size limits if the extension will generally require what might be considered larger than normal stanzas.</p><p><a name="nt-id2261786" id="nt-id2261786">29</a>. XEP-0096: File Transfer &lt;<a href="http://www.xmpp.org/extensions/xep-0096.html">http://www.xmpp.org/extensions/xep-0096.html</a>&gt;.</p><p><a name="nt-id2261834" id="nt-id2261834">30</a>. The jabberd server is the original server implementation of the Jabber/XMPP protocols, first developed by Jeremie Miller, inventor of Jabber. For further information, see &lt;<a href="http://jabberd.org/">http://jabberd.org/</a>&gt;.</p><p><a name="nt-id2261886" id="nt-id2261886">31</a>. XEP-0143: Guidelines for Authors of XMPP Extension Protocols &lt;<a href="http://www.xmpp.org/extensions/xep-0143.html">http://www.xmpp.org/extensions/xep-0143.html</a>&gt;.</p><p><a name="nt-id2261902" id="nt-id2261902">32</a>. XML Schema Part 1: Structures &lt;<a href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</a>&gt;.</p><p><a name="nt-id2261930" id="nt-id2261930">33</a>. XML Schema Part 2: Datatypes &lt;<a href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/xmlschema-2/</a>&gt;.</p><p><a name="nt-id2262026" id="nt-id2262026">34</a>. The XMPP Registrar maintains a list of reserved protocol namespaces as well as registries of parameters used in the context of XMPP extension protocols approved by the XMPP Standards Foundation. For further information, see &lt;<a href="http://www.xmpp.org/registrar/">http://www.xmpp.org/registrar/</a>&gt;.</p><p><a name="nt-id2262071" id="nt-id2262071">35</a>. XEP-0094: Agent Information &lt;<a href="http://www.xmpp.org/extensions/xep-0094.html">http://www.xmpp.org/extensions/xep-0094.html</a>&gt;.</p><p><a name="nt-id2262099" id="nt-id2262099">36</a>. XEP-0011: Jabber Browsing &lt;<a href="http://www.xmpp.org/extensions/xep-0011.html">http://www.xmpp.org/extensions/xep-0011.html</a>&gt;.</p><p><a name="nt-id2262113" id="nt-id2262113">37</a>. XEP-0095: Stream Initiation &lt;<a href="http://www.xmpp.org/extensions/xep-0095.html">http://www.xmpp.org/extensions/xep-0095.html</a>&gt;.</p><p><a name="nt-id2262132" id="nt-id2262132">38</a>. XEP-0079: Advanced Message Processing &lt;<a href="http://www.xmpp.org/extensions/xep-0079.html">http://www.xmpp.org/extensions/xep-0079.html</a>&gt;.</p><p><a name="nt-id2262162" id="nt-id2262162">39</a>. XEP-0068: Field Data Standardization for Data Forms &lt;<a href="http://www.xmpp.org/extensions/xep-0068.html">http://www.xmpp.org/extensions/xep-0068.html</a>&gt;.</p><p><a name="nt-id2262255" id="nt-id2262255">40</a>. The XMPP Council is a technical steering committee, authorized by the XSF Board of Directors and elected by XSF members, that approves of new XMPP Extensions Protocols and oversees the XSF's standards process. For further information, see &lt;<a href="http://www.xmpp.org/council/">http://www.xmpp.org/council/</a>&gt;.</p><p><a name="nt-id2262287" id="nt-id2262287">41</a>. The Standards SIG is a standing Special Interest Group devoted to development of XMPP Extension Protocols. The discussion list of the Standards SIG is the primary venue for discussion of XMPP protocol extensions, as well as for announcements by the XMPP Extensions Editor and XMPP Registrar. To subscribe to the list or view the list archives, visit &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards/">http://mail.jabber.org/mailman/listinfo/standards/</a>&gt;.</p><p><a name="nt-id2262342" id="nt-id2262342">42</a>. RFC 4422: Simple Authentication and Security Layer (SASL) &lt;<a href="http://tools.ietf.org/html/rfc4422">http://tools.ietf.org/html/rfc4422</a>&gt;.</p><p><a name="nt-id2262426" id="nt-id2262426">43</a>. RFC 3552: Guidelines for Writing RFC Text on Security Considerations &lt;<a href="http://tools.ietf.org/html/rfc3552">http://tools.ietf.org/html/rfc3552</a>&gt;.</p><p><a name="nt-id2262404" id="nt-id2262404">44</a>. The Internet Assigned Numbers Authority (IANA) is the central coordinator for the assignment of unique parameter values for Internet protocols, such as port numbers and URI schemes. For further information, see &lt;<a href="http://www.iana.org/">http://www.iana.org/</a>&gt;.</p></div><hr /><h2><a name="revs" id="revs"></a>Revision History</h2><div class="indent"><h4>Version 1.1 (2004-12-09)</h4><div class="indent">Revised text regarding recommended stanza sizes. (psa)
    </div><h4>Version 1.0 (2004-10-22)</h4><div class="indent">Per a vote of the Jabber Council, advanced status to Active. (psa)
    </div><h4>Version 0.3 (2004-09-29)</h4><div class="indent">Added note about presence vs. pubsub. (psa)
    </div><h4>Version 0.2 (2004-08-31)</h4><div class="indent">Added references to several additional RFCs and XEPs. (psa)
    </div><h4>Version 0.1 (2004-04-28)</h4><div class="indent">Initial version. (psa)
    </div></div><hr /><p>END</p></body></html>
